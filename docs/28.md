# 集成

*   [反向代理](28)
*   [Azure：Microsoft Azure](28)
*   [AWS：亚马逊网络服务](28)
*   [Databricks](28)
*   [GCP：Google云端平台](28)

## 反向代理

可以在反向代理后面设置气流，并能够灵活地设置其端点。

例如，您可以配置反向代理以获取：

```py
 https : // lab . mycompany . com / myorg / airflow /

```

为此，您需要在&lt;cite&gt;airflow.cfg中&lt;/cite&gt;设置以下设置：

```py
 base_url = http : // my_host / myorg / airflow

```

此外，如果您使用Celery Executor，您可以使用以下命令获取&lt;cite&gt;/&lt;/cite&gt; in &lt;cite&gt;myorg / flower中的&lt;/cite&gt; Flower：

```py
 flower_url_prefix = / myorg / flower

```

您的反向代理（例如：nginx）应配置如下：

*   传递url和http标头作为Airflow网络服务器，没有任何重写，例如：

    ```py
    server {
      listen 80;
      server_name lab.mycompany.com;

      location /myorg/airflow/ {
          proxy_pass http://localhost:8080;
          proxy_set_header Host $host;
          proxy_redirect off;
          proxy_http_version 1.1;
          proxy_set_header Upgrade $http_upgrade;
          proxy_set_header Connection "upgrade";
      }
    }

    ```

*   重写花端点的url：

    ```py
    server {
        listen 80;
        server_name lab.mycompany.com;

        location /myorg/flower/ {
            rewrite ^/myorg/flower/(.*)$ /$1 break;  # remove prefix from http header
            proxy_pass http://localhost:5555;
            proxy_set_header Host $host;
            proxy_redirect off;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
        }
    }

    ```

## Azure：Microsoft Azure

Airflow对Microsoft Azure的支持有限：仅存在Azure Blob存储和Azure Data Lake的接口。 Blob存储的钩子，传感器和操作员以及Azure Data Lake Hook都在contrib部分。

### Azure Blob存储

所有类都通过Window Azure Storage Blob协议进行通信。 确保存在类型为&lt;cite&gt;wasb&lt;/cite&gt;的Airflow连接。 可以通过在额外字段中提供登录（=存储帐户名称）和密码（= KEY），或登录和SAS令牌来完成授权（有关&lt;cite&gt;示例&lt;/cite&gt; ，请参阅连接&lt;cite&gt;wasb_default&lt;/cite&gt; ）。

*   [WasbBlobSensor](28) ：检查Azure Blob存储上是否存在blob。
*   [WasbPrefixSensor](28) ：检查Azure Blob存储上是否存在与前缀匹配的blob。
*   [FileToWasbOperator](28) ：将本地文件作为blob [上载到](28)容器。
*   [WasbHook](28) ：与Azure Blob存储的接口。

#### WasbBlobSensor

```py
class airflow.contrib.sensors.wasb_sensor.WasbBlobSensor(container_name, blob_name, wasb_conn_id='wasb_default', check_options=None, *args, **kwargs) 
```

基础： [`airflow.sensors.base_sensor_operator.BaseSensorOperator`](code.html "airflow.sensors.base_sensor_operator.BaseSensorOperator")

等待blob到达Azure Blob存储。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **container_name** （ _str_ ） - 容器的名称。
*   **blob_name** （ _str_ ） - blob的名称。
*   **wasb_conn_id** （ _str_ ） - 对wasb连接的引用。
*   **check_options** （ _dict_ ） - &lt;cite&gt;WasbHook.check_for_blob（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

```py
poke(context) 
```

传感器在派生此类时定义的功能应该覆盖。

#### WasbPrefixSensor

```py
class airflow.contrib.sensors.wasb_sensor.WasbPrefixSensor(container_name, prefix, wasb_conn_id='wasb_default', check_options=None, *args, **kwargs) 
```

基础： [`airflow.sensors.base_sensor_operator.BaseSensorOperator`](code.html "airflow.sensors.base_sensor_operator.BaseSensorOperator")

等待与前缀匹配的blob到达Azure Blob存储。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **container_name** （ _str_ ） - 容器的名称。
*   **prefix** （ _str_ ） - blob的前缀。
*   **wasb_conn_id** （ _str_ ） - 对wasb连接的引用。
*   **check_options** （ _dict_ ） - &lt;cite&gt;WasbHook.check_for_prefix（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

```py
poke(context) 
```

传感器在派生此类时定义的功能应该覆盖。

#### FileToWasbOperator

```py
class airflow.contrib.operators.file_to_wasb.FileToWasbOperator(file_path, container_name, blob_name, wasb_conn_id='wasb_default', load_options=None, *args, **kwargs) 
```

基础： [`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

将文件上载到Azure Blob存储。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **file_path** （ _str_ ） - 要加载的文件的路径。 （模板）
*   **container_name** （ _str_ ） - 容器的名称。 （模板）
*   **blob_name** （ _str_ ） - blob的名称。 （模板）
*   **wasb_conn_id** （ _str_ ） - 对wasb连接的引用。
*   **load_options** （ _dict_ ） - &lt;cite&gt;WasbHook.load_file（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

```py
execute(context) 
```

将文件上载到Azure Blob存储。

#### WasbHook

```py
class airflow.contrib.hooks.wasb_hook.WasbHook(wasb_conn_id='wasb_default') 
```

基础： `airflow.hooks.base_hook.BaseHook`

通过wasb：//协议与Azure Blob存储进行交互。

在连接的“额外”字段中传递的其他选项将传递给&lt;cite&gt;BlockBlockService（）&lt;/cite&gt;构造函数。 例如，通过添加{“sas_token”：“YOUR_TOKEN”}使用SAS令牌进行身份验证。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **wasb_conn_id** （ _str_ ） - 对wasb连接的引用。 |
| --- | --- |

```py
check_for_blob(container_name, blob_name, **kwargs) 
```

检查Azure Blob存储上是否存在Blob。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **container_name** （ _str_ ） - 容器的名称。
*   **blob_name** （ _str_ ） - blob的名称。
*   **kwargs** （ _object_ ） - &lt;cite&gt;BlockBlobService.exists（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |
| 返回： | 如果blob存在则为True，否则为False。 |
| --- | --- |

：rtype布尔

```py
check_for_prefix(container_name, prefix, **kwargs) 
```

检查Azure Blob存储上是否存在前缀。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **container_name** （ _str_ ） - 容器的名称。
*   **prefix** （ _str_ ） - blob的前缀。
*   **kwargs** （ _object_ ） - &lt;cite&gt;BlockBlobService.list_blobs（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |
| 返回： | 如果存在与前缀匹配的blob，则为True，否则为False。 |
| --- | --- |

：rtype布尔

```py
get_conn() 
```

返回BlockBlobService对象。

```py
get_file(file_path, container_name, blob_name, **kwargs) 
```

从Azure Blob存储下载文件。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **file_path** （ _str_ ） - 要下载的文件的路径。
*   **container_name** （ _str_ ） - 容器的名称。
*   **blob_name** （ _str_ ） - blob的名称。
*   **kwargs** （ _object_ ） - &lt;cite&gt;BlockBlobService.create_blob_from_path（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

```py
load_file(file_path, container_name, blob_name, **kwargs) 
```

将文件上载到Azure Blob存储。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **file_path** （ _str_ ） - 要加载的文件的路径。
*   **container_name** （ _str_ ） - 容器的名称。
*   **blob_name** （ _str_ ） - blob的名称。
*   **kwargs** （ _object_ ） - &lt;cite&gt;BlockBlobService.create_blob_from_path（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

```py
load_string(string_data, container_name, blob_name, **kwargs) 
```

将字符串上载到Azure Blob存储。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **string_data** （ _str_ ） - 要加载的字符串。
*   **container_name** （ _str_ ） - 容器的名称。
*   **blob_name** （ _str_ ） - blob的名称。
*   **kwargs** （ _object_ ） - &lt;cite&gt;BlockBlobService.create_blob_from_text（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

```py
read_file(container_name, blob_name, **kwargs) 
```

从Azure Blob Storage读取文件并以字符串形式返回。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **container_name** （ _str_ ） - 容器的名称。
*   **blob_name** （ _str_ ） - blob的名称。
*   **kwargs** （ _object_ ） - &lt;cite&gt;BlockBlobService.create_blob_from_path（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

### Azure文件共享

SMB文件共享的云变体。 确保存在类型为&lt;cite&gt;wasb&lt;/cite&gt;的Airflow连接。 可以通过在额外字段中提供登录（=存储帐户名称）和密码（=存储帐户密钥）或登录和SAS令牌来完成授权（有关&lt;cite&gt;示例&lt;/cite&gt; ，请参阅连接&lt;cite&gt;wasb_default&lt;/cite&gt; ）。

#### AzureFileShareHook

```py
class airflow.contrib.hooks.azure_fileshare_hook.AzureFileShareHook(wasb_conn_id='wasb_default') 
```

基础： `airflow.hooks.base_hook.BaseHook`

与Azure FileShare存储交互。

在连接的“额外”字段中传递的其他选项将传递给&lt;cite&gt;FileService（）&lt;/cite&gt;构造函数。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **wasb_conn_id** （ _str_ ） - 对wasb连接的引用。 |
| --- | --- |

```py
check_for_directory(share_name, directory_name, **kwargs) 
```

检查Azure文件共享上是否存在目录。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **share_name** （ _str_ ） - 共享的名称。
*   **directory_name** （ _str_ ） - 目录的名称。
*   **kwargs** （ _object_ ） - &lt;cite&gt;FileService.exists（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |
| 返回： | 如果文件存在则为True，否则为False。 |
| --- | --- |

：rtype布尔

```py
check_for_file(share_name, directory_name, file_name, **kwargs) 
```

检查Azure文件共享上是否存在文件。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **share_name** （ _str_ ） - 共享的名称。
*   **directory_name** （ _str_ ） - 目录的名称。
*   **file_name** （ _str_ ） - 文件名。
*   **kwargs** （ _object_ ） - &lt;cite&gt;FileService.exists（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |
| 返回： | 如果文件存在则为True，否则为False。 |
| --- | --- |

：rtype布尔

```py
create_directory(share_name, directory_name, **kwargs) 
```

在Azure文件共享上创建新的目标。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **share_name** （ _str_ ） - 共享的名称。
*   **directory_name** （ _str_ ） - 目录的名称。
*   **kwargs** （ _object_ ） - &lt;cite&gt;FileService.create_directory（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |
| 返回： | 文件和目录列表 |
| --- | --- |

：rtype列表

```py
get_conn() 
```

返回FileService对象。

```py
get_file(file_path, share_name, directory_name, file_name, **kwargs) 
```

从Azure文件共享下载文件。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **file_path** （ _str_ ） - 存储文件的位置。
*   **share_name** （ _str_ ） - 共享的名称。
*   **directory_name** （ _str_ ） - 目录的名称。
*   **file_name** （ _str_ ） - 文件名。
*   **kwargs** （ _object_ ） - &lt;cite&gt;FileService.get_file_to_path（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

```py
get_file_to_stream(stream, share_name, directory_name, file_name, **kwargs) 
```

从Azure文件共享下载文件。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **stream** （类_文件对象_ ） - 用于存储文件的文件句柄。
*   **share_name** （ _str_ ） - 共享的名称。
*   **directory_name** （ _str_ ） - 目录的名称。
*   **file_name** （ _str_ ） - 文件名。
*   **kwargs** （ _object_ ） - &lt;cite&gt;FileService.get_file_to_stream（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

```py
list_directories_and_files(share_name, directory_name=None, **kwargs) 
```

返回存储在Azure文件共享中的目录和文件列表。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **share_name** （ _str_ ） - 共享的名称。
*   **directory_name** （ _str_ ） - 目录的名称。
*   **kwargs** （ _object_ ） - &lt;cite&gt;FileService.list_directories_and_files（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |
| 返回： | 文件和目录列表 |
| --- | --- |

：rtype列表

```py
load_file(file_path, share_name, directory_name, file_name, **kwargs) 
```

将文件上载到Azure文件共享。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **file_path** （ _str_ ） - 要加载的文件的路径。
*   **share_name** （ _str_ ） - 共享的名称。
*   **directory_name** （ _str_ ） - 目录的名称。
*   **file_name** （ _str_ ） - 文件名。
*   **kwargs** （ _object_ ） - &lt;cite&gt;FileService.create_file_from_path（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

```py
load_stream(stream, share_name, directory_name, file_name, count, **kwargs) 
```

将流上载到Azure文件共享。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **stream** （类_文件_ ） - 打开的文件/流作为文件内容上传。
*   **share_name** （ _str_ ） - 共享的名称。
*   **directory_name** （ _str_ ） - 目录的名称。
*   **file_name** （ _str_ ） - 文件名。
*   **count** （ _int_ ） - 流的大小（以字节为单位）
*   **kwargs** （ _object_ ） - &lt;cite&gt;FileService.create_file_from_stream（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

```py
load_string(string_data, share_name, directory_name, file_name, **kwargs) 
```

将字符串上载到Azure文件共享。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **string_data** （ _str_ ） - 要加载的字符串。
*   **share_name** （ _str_ ） - 共享的名称。
*   **directory_name** （ _str_ ） - 目录的名称。
*   **file_name** （ _str_ ） - 文件名。
*   **kwargs** （ _object_ ） - &lt;cite&gt;FileService.create_file_from_text（）&lt;/cite&gt;采用的可选关键字参数。

 |
| --- | --- |

### 记录

可以将Airflow配置为在Azure Blob存储中读取和写入任务日志。 请参阅[将日志写入Azure Blob存储](howto/write-logs.html) 。

### Azure Data Lake

AzureDataLakeHook通过与WebHDFS兼容的REST API进行通信。 确保存在&lt;cite&gt;azure_data_lake&lt;/cite&gt;类型的气流连接。 可以通过提供登录（=客户端ID），密码（=客户端密钥）和额外字段租户（租户）和account_name（帐户名称）来完成授权

> （有关&lt;cite&gt;示例&lt;/cite&gt; ，请参阅&lt;cite&gt;azure_data_lake_default&lt;/cite&gt;连接）。

*   [AzureDataLakeHook](28) ：与Azure Data Lake的接口。

#### AzureDataLakeHook

```py
class airflow.contrib.hooks.azure_data_lake_hook.AzureDataLakeHook(azure_data_lake_conn_id='azure_data_lake_default') 
```

基础： `airflow.hooks.base_hook.BaseHook`

与Azure Data Lake进行交互。

客户端ID和客户端密钥应该在用户和密码参数中。 租户和帐户名称应为{“租户”：“&lt;TENANT&gt;”，“account_name”：“ACCOUNT_NAME”}的额外字段。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **azure_data_lake_conn_id** （ _str_ ） - 对Azure Data Lake连接的引用。 |
| --- | --- |

```py
check_for_file(file_path) 
```

检查Azure Data Lake上是否存在文件。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **file_path** （ _str_ ） - 文件的路径和名称。 |
| --- | --- |
| 返回： | 如果文件存在则为True，否则为False。 |
| --- | --- |

：rtype布尔

```py
download_file(local_path, remote_path, nthreads=64, overwrite=True, buffersize=4194304, blocksize=4194304) 
```

从Azure Blob存储下载文件。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **local_path** （ _str_ ） - 本地路径。 如果下载单个文件，将写入此特定文件，除非它是现有目录，在这种情况下，将在其中创建文件。 如果下载多个文件，这是要写入的根目录。 将根据需要创建目录。
*   **remote_path** （ _str_ ） - 用于查找远程文件的远程路径/ globstring。 不支持使用&lt;cite&gt;**的&lt;/cite&gt;递归glob模式。
*   **nthreads** （ _int_ ） - 要使用的线程数。 如果为None，则使用核心数。
*   **overwrite** （ _bool_ ） - 是否强制覆盖现有文件/目录。 如果False和远程路径是目录，则无论是否覆盖任何文件都将退出。 如果为True，则实际仅覆盖匹配的文件名。
*   **buffersize** （ _int_ ） - int [2 ** 22]内部缓冲区的字节数。 此块不能大于块，并且不能小于块。
*   **blocksize** （ _int_ ） - int [2 ** 22]块的字节数。 在每个块中，我们为每个API调用编写一个较小的块。 这个块不能大于块。

 |
| --- | --- |

```py
get_conn() 
```

返回AzureDLFileSystem对象。

```py
upload_file(local_path, remote_path, nthreads=64, overwrite=True, buffersize=4194304, blocksize=4194304) 
```

将文件上载到Azure Data Lake。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **local_path** （ _str_ ） - 本地路径。 可以是单个文件，目录（在这种情况下，递归上传）或glob模式。 不支持使用&lt;cite&gt;**的&lt;/cite&gt;递归glob模式。
*   **remote_path** （ _str_ ） - 要上传的远程路径; 如果有多个文件，这就是要写入的dircetory根目录。
*   **nthreads** （ _int_ ） - 要使用的线程数。 如果为None，则使用核心数。
*   **overwrite** （ _bool_ ） - 是否强制覆盖现有文件/目录。 如果False和远程路径是目录，则无论是否覆盖任何文件都将退出。 如果为True，则实际仅覆盖匹配的文件名。
*   **buffersize** （ _int_ ） - int [2 ** 22]内部缓冲区的字节数。 此块不能大于块，并且不能小于块。
*   **blocksize** （ _int_ ） - int [2 ** 22]块的字节数。 在每个块中，我们为每个API调用编写一个较小的块。 这个块不能大于块。

 |
| --- | --- |

## AWS：亚马逊网络服务

Airflow广泛支持Amazon Web Services。 但请注意，Hook，Sensors和Operators都在contrib部分。

### AWS EMR

*   [EmrAddStepsOperator](28) ：向现有EMR JobFlow添加步骤。
*   [EmrCreateJobFlowOperator](28) ：创建EMR JobFlow，从EMR连接读取配置。
*   [EmrTerminateJobFlowOperator](28) ：终止EMR JobFlow。
*   [EmrHook](28) ：与AWS EMR互动。

#### EmrAddStepsOperator

```py
class airflow.contrib.operators.emr_add_steps_operator.EmrAddStepsOperator(job_flow_id, aws_conn_id='s3_default', steps=None, *args, **kwargs) 
```

基础： [`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

向现有EMR job_flow添加步骤的运算符。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **job_flow_id** - 要添加步骤的JobFlow的ID。 （模板）
*   **aws_conn_id** （ _str_ ） - 与使用的aws连接
*   **步骤** （ _列表_ ） - 要添加到作业流的boto3样式步骤。 （模板）

 |
| --- | --- |

#### EmrCreateJobFlowOperator

```py
class airflow.contrib.operators.emr_create_job_flow_operator.EmrCreateJobFlowOperator(aws_conn_id='s3_default', emr_conn_id='emr_default', job_flow_overrides=None, *args, **kwargs) 
```

基础： [`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

创建EMR JobFlow，从EMR连接读取配置。 可以传递JobFlow覆盖的字典，覆盖连接中的配置。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **aws_conn_id** （ _str_ ） - 与使用的aws连接
*   **emr_conn_id** （ _str_ ） - 要使用的emr连接
*   **job_flow_overrides** - 用于覆盖emr_connection extra的boto3样式参数。 （模板）

 |
| --- | --- |

#### EmrTerminateJobFlowOperator

```py
class airflow.contrib.operators.emr_terminate_job_flow_operator.EmrTerminateJobFlowOperator(job_flow_id, aws_conn_id='s3_default', *args, **kwargs) 
```

基础： [`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

运营商终止EMR JobFlows。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **job_flow_id** - 要终止的JobFlow的id。 （模板）
*   **aws_conn_id** （ _str_ ） - 与使用的aws连接

 |
| --- | --- |

#### EmrHook

```py
class airflow.contrib.hooks.emr_hook.EmrHook(emr_conn_id=None, *args, **kwargs) 
```

基地： [`airflow.contrib.hooks.aws_hook.AwsHook`](code.html "airflow.contrib.hooks.aws_hook.AwsHook")

与AWS EMR交互。 emr_conn_id只是使用create_job_flow方法所必需的。

```py
create_job_flow(job_flow_overrides) 
```

使用EMR连接中的配置创建作业流。 json额外哈希的键可以具有boto3 run_job_flow方法的参数。 此配置的覆盖可以作为job_flow_overrides传递。

### AWS S3

*   [S3Hook](28) ：与AWS S3交互。
*   [S3FileTransformOperator](28) ：将数据从源S3位置复制到本地文件系统上的临时位置。
*   [S3ListOperator](28) ：列出与S3位置的键前缀匹配的文件。
*   [S3ToGoogleCloudStorageOperator](28) ：将S3位置与Google云端存储[分区](28)同步。
*   [S3ToHiveTransfer](28) ：将数据从S3移动到Hive。 操作员从S3下载文件，在将文件加载到Hive表之前将其存储在本地。

#### S3Hook

```py
class airflow.hooks.S3_hook.S3Hook(aws_conn_id='aws_default') 
```

基地： [`airflow.contrib.hooks.aws_hook.AwsHook`](code.html "airflow.contrib.hooks.aws_hook.AwsHook")

使用boto3库与AWS S3交互。

```py
check_for_bucket(bucket_name) 
```

检查bucket_name是否存在。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **bucket_name** （ _str_ ） - 存储桶的名称 |
| --- | --- |

```py
check_for_key(key, bucket_name=None) 
```

检查存储桶中是否存在密钥

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **key** （ _str_ ） - 指向文件的S3键
*   **bucket_name** （ _str_ ） - 存储文件的存储桶的名称

 |
| --- | --- |

```py
check_for_prefix(bucket_name, prefix, delimiter) 
```

检查存储桶中是否存在前缀

```py
check_for_wildcard_key(wildcard_key, bucket_name=None, delimiter='') 
```

检查桶中是否存在与通配符表达式匹配的密钥

```py
get_bucket(bucket_name) 
```

返回boto3.S3.Bucket对象

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **bucket_name** （ _str_ ） - 存储桶的名称 |
| --- | --- |

```py
get_key(key, bucket_name=None) 
```

返回boto3.s3.Object

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **key** （ _str_ ） - 密钥的路径
*   **bucket_name** （ _str_ ） - 存储桶的名称

 |
| --- | --- |

```py
get_wildcard_key(wildcard_key, bucket_name=None, delimiter='') 
```

返回与通配符表达式匹配的boto3.s3.Object对象

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **wildcard_key** （ _str_ ） - 密钥的路径
*   **bucket_name** （ _str_ ） - 存储桶的名称

 |
| --- | --- |

```py
list_keys(bucket_name, prefix='', delimiter='', page_size=None, max_items=None) 
```

列出前缀下的存储桶中的密钥，但不包含分隔符

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **bucket_name** （ _str_ ） - 存储桶的名称
*   **prefix** （ _str_ ） - 一个密钥前缀
*   **delimiter** （ _str_ ） - 分隔符标记键层次结构。
*   **page_size** （ _int_ ） - 分页大小
*   **max_items** （ _int_ ） - 要返回的最大项目数

 |
| --- | --- |

```py
list_prefixes(bucket_name, prefix='', delimiter='', page_size=None, max_items=None) 
```

列出前缀下的存储桶中的前缀

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **bucket_name** （ _str_ ） - 存储桶的名称
*   **prefix** （ _str_ ） - 一个密钥前缀
*   **delimiter** （ _str_ ） - 分隔符标记键层次结构。
*   **page_size** （ _int_ ） - 分页大小
*   **max_items** （ _int_ ） - 要返回的最大项目数

 |
| --- | --- |

```py
load_bytes(bytes_data, key, bucket_name=None, replace=False, encrypt=False) 
```

将字节加载到S3

这是为了方便在S3中删除字符串。 它使用boto基础结构将文件发送到s3。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **bytes_data** （ _bytes_ ） - 设置为密钥内容的字节。
*   **key** （ _str_ ） - 指向文件的S3键
*   **bucket_name** （ _str_ ） - 存储文件的存储桶的名称
*   **replace** （ _bool_ ） - 一个标志，用于决定是否覆盖密钥（如果已存在）
*   **encrypt** （ _bool_ ） - 如果为True，则文件将在服务器端由S3加密，并在S3中静止时以加密形式存储。

 |
| --- | --- |

```py
load_file(filename, key, bucket_name=None, replace=False, encrypt=False) 
```

将本地文件加载到S3

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **filename** （ _str_ ） - 要加载的文件的名称。
*   **key** （ _str_ ） - 指向文件的S3键
*   **bucket_name** （ _str_ ） - 存储文件的存储桶的名称
*   **replace** （ _bool_ ） - 一个标志，用于决定是否覆盖密钥（如果已存在）。 如果replace为False且密钥存在，则会引发错误。
*   **encrypt** （ _bool_ ） - 如果为True，则文件将在服务器端由S3加密，并在S3中静止时以加密形式存储。

 |
| --- | --- |

```py
load_string(string_data, key, bucket_name=None, replace=False, encrypt=False, encoding='utf-8') 
```

将字符串加载到S3

这是为了方便在S3中删除字符串。 它使用boto基础结构将文件发送到s3。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **string_data** （ _str_ ） - 要设置为键的内容的字符串。
*   **key** （ _str_ ） - 指向文件的S3键
*   **bucket_name** （ _str_ ） - 存储文件的存储桶的名称
*   **replace** （ _bool_ ） - 一个标志，用于决定是否覆盖密钥（如果已存在）
*   **encrypt** （ _bool_ ） - 如果为True，则文件将在服务器端由S3加密，并在S3中静止时以加密形式存储。

 |
| --- | --- |

```py
read_key(key, bucket_name=None) 
```

从S3读取密钥

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **key** （ _str_ ） - 指向文件的S3键
*   **bucket_name** （ _str_ ） - 存储文件的存储桶的名称

 |
| --- | --- |

```py
select_key(key, bucket_name=None, expression='SELECT * FROM S3Object', expression_type='SQL', input_serialization={'CSV': {}}, output_serialization={'CSV': {}}) 
```

使用S3 Select读取密钥。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **key** （ _str_ ） - 指向文件的S3键
*   **bucket_name** （ _str_ ） - 存储文件的存储桶的名称
*   **expression** （ _str_ ） - S3选择表达式
*   **expression_type** （ _str_ ） - S3选择表达式类型
*   **input_serialization** （ _dict_ ） - S3选择输入数据序列化格式
*   **output_serialization** （ _dict_ ） - S3选择输出数据序列化格式

 |
| --- | --- |
| 返回： | 通过S3 Select检索原始数据的子集 |
| --- | --- |
| 返回类型： | 海峡 |
| --- | --- |

也可以看看

有关S3 Select参数的更多详细信息： [http](http://boto3.readthedocs.io/en/latest/reference/services/s3.html) ： [//boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.Client.select_object_content](http://boto3.readthedocs.io/en/latest/reference/services/s3.html)

#### S3FileTransformOperator

```py
class airflow.operators.s3_file_transform_operator.S3FileTransformOperator(source_s3_key, dest_s3_key, transform_script=None, select_expression=None, source_aws_conn_id='aws_default', dest_aws_conn_id='aws_default', replace=False, *args, **kwargs) 
```

基础： [`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

将数据从源S3位置复制到本地文件系统上的临时位置。 根据转换脚本的指定对此文件运行转换，并将输出上载到目标S3位置。

本地文件系统中的源文件和目标文件的位置作为转换脚本的第一个和第二个参数提供。 转换脚本应该从源读取数据，转换它并将输出写入本地目标文件。 然后，操作员接管控制并将本地目标文件上载到S3。

S3 Select也可用于过滤源内容。 如果指定了S3 Select表达式，则用户可以省略转换脚本。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **source_s3_key** （ _str_ ） - 从S3检索的密钥。 （模板）
*   **source_aws_conn_id** （ _str_ ） - 源s3连接
*   **dest_s3_key** （ _str_ ） - 从S3写入的密钥。 （模板）
*   **dest_aws_conn_id** （ _str_ ） - 目标s3连接
*   **replace** （ _bool_ ） - 替换dest S3密钥（如果已存在）
*   **transform_script** （ _str_ ） - 可执行转换脚本的位置
*   **select_expression** （ _str_ ） - S3选择表达式

 |
| --- | --- |

#### S3ListOperator

```py
class airflow.contrib.operators.s3_list_operator.S3ListOperator(bucket, prefix='', delimiter='', aws_conn_id='aws_default', *args, **kwargs) 
```

基础： [`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

列出桶中具有名称中给定字符串前缀的所有对象。

此运算符返回一个python列表，其中包含可由&lt;cite&gt;xcom&lt;/cite&gt;在下游任务中使用的对象名称。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **bucket** （ _string_ ） - S3存储桶在哪里找到对象。 （模板）
*   **prefix** （ _string_ ） - 用于过滤名称以此前缀开头的对象的前缀字符串。 （模板）
*   **delimiter** （ _string_ ） - 分隔符标记键层次结构。 （模板）
*   **aws_conn_id** （ _string_ ） - 连接到S3存储时使用的连接ID。

 |
| --- | --- |

```py
 Example: 
```

以下运算符将列出`data`存储区中S3 `customers/2018/04/` key的所有文件（不包括子文件夹）。

```py
 s3_file = S3ListOperator (
    task_id = 'list_3s_files' ,
    bucket = 'data' ,
    prefix = 'customers/2018/04/' ,
    delimiter = '/' ,
    aws_conn_id = 'aws_customers_conn'
)

```

#### S3ToGoogleCloudStorageOperator

```py
class airflow.contrib.operators.s3_to_gcs_operator.S3ToGoogleCloudStorageOperator(bucket, prefix='', delimiter='', aws_conn_id='aws_default', dest_gcs_conn_id=None, dest_gcs=None, delegate_to=None, replace=False, *args, **kwargs) 
```

基础： [`airflow.contrib.operators.s3_list_operator.S3ListOperator`](28 "airflow.contrib.operators.s3_list_operator.S3ListOperator")

将S3密钥（可能是前缀）与Google云端存储目标路径同步。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **bucket** （ _string_ ） - S3存储桶在哪里找到对象。 （模板）
*   **prefix** （ _string_ ） - 前缀字符串，用于过滤名称以此前缀开头的对象。 （模板）
*   **delimiter** （ _string_ ） - 分隔符标记键层次结构。 （模板）
*   **aws_conn_id** （ _string_ ） - 源S3连接
*   **dest_gcs_conn_id** （ _字符串_ ） - 连接到Google云端存储时要使用的目标连接ID。
*   **dest_gcs** （ _字符串_ ） - 要存储文件的目标Google云端存储**分区**和前缀。 （模板）
*   **delegate_to** （ _string_ ） - 模拟的帐户（如果有）。 为此，发出请求的服务帐户必须启用域范围委派。
*   **replace** （ _bool_ ） - 是否要替换现有目标文件。

 |
| --- | --- |

**示例** ：.. code-block :: python

> ```py
>  s3_to_gcs_op = S3ToGoogleCloudStorageOperator( 
> ```
> 
> task_id ='s3_to_gcs_example'，bucket ='my-s3-bucket'，prefix ='data / customers-201804'，dest_gcs_conn_id ='google_cloud_default'，dest_gcs ='gs：//my.gcs.bucket/some/customers/' ，replace = False，dag = my-dag）

请注意， `bucket` ， `prefix` ， `delimiter`和`dest_gcs`是模板化的，因此如果您愿意，可以在其中使用变量。

#### S3ToHiveTransfer

```py
class airflow.operators.s3_to_hive_operator.S3ToHiveTransfer(s3_key, field_dict, hive_table, delimiter=', ', create=True, recreate=False, partition=None, headers=False, check_headers=False, wildcard_match=False, aws_conn_id='aws_default', hive_cli_conn_id='hive_cli_default', input_compressed=False, tblproperties=None, select_expression=None, *args, **kwargs) 
```

基础： [`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

将数据从S3移动到Hive。 操作员从S3下载文件，在将文件加载到Hive表之前将其存储在本地。 如果`create`或`recreate`参数设置为`True` ，则会生成`CREATE TABLE`和`DROP TABLE`语句。 Hive数据类型是从游标的元数据中推断出来的。

请注意，Hive中生成的表使用`STORED AS textfile` ，这不是最有效的序列化格式。 如果加载了大量数据和/或表格被大量查询，您可能只想使用此运算符将数据暂存到临时表中，然后使用`HiveOperator`将其加载到最终目标中。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **s3_key** （ _str_ ） - 从S3检索的密钥。 （模板）
*   **field_dict** （ _dict_ ） - 字段的字典在文件中命名为键，其Hive类型为值
*   **hive_table** （ _str_ ） - 目标Hive表，使用点表示法来定位特定数据库。 （模板）
*   **create** （ _bool_ ） - 是否创建表，如果它不存在
*   **recreate** （ _bool_ ） - 是否在每次执行时删除并重新创建表
*   **partition** （ _dict_ ） - 将目标分区作为分区列和值的字典。 （模板）
*   **headers** （ _bool_ ） - 文件是否包含第一行的列名
*   **check_headers** （ _bool_ ） - 是否应该根据field_dict的键检查第一行的列名
*   **wildcard_match** （ _bool_ ） - 是否应将s3_key解释为Unix通配符模式
*   **delimiter** （ _str_ ） - 文件中的字段分隔符
*   **aws_conn_id** （ _str_ ） - 源s3连接
*   **hive_cli_conn_id** （ _str_ ） - 目标配置单元连接
*   **input_compressed** （ _bool_ ） - 布尔值，用于确定是否需要文件解压缩来处理标头
*   **tblproperties** （ _dict_ ） - 正在创建的hive表的TBLPROPERTIES
*   **select_expression** （ _str_ ） - S3选择表达式

 |
| --- | --- |

### AWS EC2容器服务

*   [ECSOperator](28) ：在AWS EC2容器服务上执行任务。

#### ECSOperator

```py
class airflow.contrib.operators.ecs_operator.ECSOperator(task_definition, cluster, overrides, aws_conn_id=None, region_name=None, launch_type='EC2', **kwargs) 
```

基础： [`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

在AWS EC2 Container Service上执行任务

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **task_definition** （ _str_ ） - EC2容器服务上的任务定义名称
*   **cluster** （ _str_ ） - EC2 Container Service上的群集名称
*   **aws_conn_id** （ _str_ ） - AWS凭证/区域名称的连接ID。 如果为None，将使用凭证boto3策略（ [http://boto3.readthedocs.io/en/latest/guide/configuration.html](http://boto3.readthedocs.io/en/latest/guide/configuration.html) ）。
*   **region_name** - 要在AWS Hook中使用的区域名称。 覆盖连接中的region_name（如果提供）
*   **launch_type** - 运行任务的启动类型（'EC2'或'FARGATE'）

 |
| --- | --- |
| 帕拉姆： | 覆盖：boto3将接收的相同参数（模板化）： [http](http://boto3.readthedocs.org/en/latest/reference/services/ecs.html) ：//boto3.readthedocs.org/en/latest/reference/services/ecs.html#ECS.Client.run_task |
| --- | --- |
| 类型： | 覆盖：dict |
| --- | --- |
| 类型： | launch_type：str |
| --- | --- |

### AWS Batch Service

*   [AWSBatchOperator](28) ：在AWS Batch Service上执行任务。

#### AWSBatchOperator

```py
class airflow.contrib.operators.awsbatch_operator.AWSBatchOperator(job_name, job_definition, job_queue, overrides, max_retries=4200, aws_conn_id=None, region_name=None, **kwargs) 
```

基础： [`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

在AWS Batch Service上执行作业

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **job_name** （ _str_ ） - 将在AWS Batch上运行的作业的名称
*   **job_definition** （ _str_ ） - AWS Batch上的作业定义名称
*   **job_queue** （ _str_ ） - AWS Batch上的队列名称
*   **max_retries** （ _int_ ） - 服务器未合并时的指数退避重试，4200 = 48小时
*   **aws_conn_id** （ _str_ ） - AWS凭证/区域名称的连接ID。 如果为None，将使用凭证boto3策略（ [http://boto3.readthedocs.io/en/latest/guide/configuration.html](http://boto3.readthedocs.io/en/latest/guide/configuration.html) ）。
*   **region_name** - 要在AWS Hook中使用的区域名称。 覆盖连接中的region_name（如果提供）

 |
| --- | --- |
| 帕拉姆： | 覆盖：boto3将在containerOverrides上接收的相同参数（模板化）： [http](http://boto3.readthedocs.io/en/latest/reference/services/batch.html) ：//boto3.readthedocs.io/en/latest/reference/services/batch.html#submit_job |
| --- | --- |
| 类型： | 覆盖：dict |
| --- | --- |

### AWS RedShift

*   [AwsRedshiftClusterSensor](28) ：等待Redshift群集达到特定状态。
*   [RedshiftHook](28) ：使用boto3库与AWS Redshift交互。
*   [RedshiftToS3Transfer](28) ：对带有或不带标头的CSV执行卸载命令。
*   [S3ToRedshiftTransfer](28) ：从S3执行复制命令为CSV，带或不带标题。

#### AwsRedshiftClusterSensor

```py
class airflow.contrib.sensors.aws_redshift_cluster_sensor.AwsRedshiftClusterSensor(cluster_identifier, target_status='available', aws_conn_id='aws_default', *args, **kwargs) 
```

基础： [`airflow.sensors.base_sensor_operator.BaseSensorOperator`](code.html "airflow.sensors.base_sensor_operator.BaseSensorOperator")

等待Redshift群集达到特定状态。

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **cluster_identifier** （ _str_ ） - 要ping的集群的标识符。
*   **target_status** （ _str_ ） - 所需的集群状态。

 |
| --- | --- |

```py
poke(context) 
```

传感器在派生此类时定义的功能应该覆盖。

#### RedshiftHook

```py
class airflow.contrib.hooks.redshift_hook.RedshiftHook(aws_conn_id='aws_default') 
```

基地： [`airflow.contrib.hooks.aws_hook.AwsHook`](code.html "airflow.contrib.hooks.aws_hook.AwsHook")

使用boto3库与AWS Redshift交互

```py
cluster_status(cluster_identifier) 
```

返回群集的状态

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **cluster_identifier** （ _str_ ） - 集群的唯一标识符 |
| --- | --- |

```py
create_cluster_snapshot(snapshot_identifier, cluster_identifier) 
```

创建群集的快照

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **snapshot_identifier** （ _str_ ） - 群集快照的唯一标识符
*   **cluster_identifier** （ _str_ ） - 集群的唯一标识符

 |
| --- | --- |

```py
delete_cluster(cluster_identifier, skip_final_cluster_snapshot=True, final_cluster_snapshot_identifier='') 
```

删除群集并可选择创建快照

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **cluster_identifier** （ _str_ ） - 集群的唯一标识符
*   **skip_final_cluster_snapshot** （ _bool_ ） - 确定群集快照创建
*   **final_cluster_snapshot_identifier** （ _str_ ） - 最终集群快照的名称

 |
| --- | --- |

```py
describe_cluster_snapshots(cluster_identifier) 
```

获取群集的快照列表

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **cluster_identifier** （ _str_ ） - 集群的唯一标识符 |
| --- | --- |

```py
restore_from_cluster_snapshot(cluster_identifier, snapshot_identifier) 
```

从其快照还原群集

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **cluster_identifier** （ _str_ ） - 集群的唯一标识符
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;snapshot_identifier&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;str&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 群集快照的唯一标识符&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;RedshiftToS3Transfer&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.operators.redshift_to_s3_operator.RedshiftToS3Transfer（schema，table，s3_bucket，s3_key，redshift_conn_id ='redshift_default'，aws_conn_id ='aws_default'，unload_options =（），autocommit = False，parameters = None，include_header = False，* args，* * kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;执行UNLOAD命令，将s3作为带标题的CSV&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对redshift数据库中特定模式的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;table&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对redshift数据库中特定表的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;s3_bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定S3存储桶的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;s3_key&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定S3密钥的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;redshift_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定redshift数据库的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;aws_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定S3连接的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;unload_options&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对UNLOAD选项列表的引用&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;S3ToRedshiftTransfer&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.operators.s3_to_redshift_operator.S3ToRedshiftTransfer（schema，table，s3_bucket，s3_key，redshift_conn_id ='redshift_default'，aws_conn_id ='aws_default'，copy_options =（），autocommit = False，parameters = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;执行COPY命令将文件从s3加载到Redshift&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对redshift数据库中特定模式的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;table&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对redshift数据库中特定表的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;s3_bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定S3存储桶的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;s3_key&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定S3密钥的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;redshift_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定redshift数据库的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;aws_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定S3连接的引用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;copy_options&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对COPY选项列表的引用&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

## &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;Databricks&lt;/font&gt;&lt;/font&gt;

[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;Databricks&lt;/font&gt;&lt;/font&gt;](https://databricks.com/)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;贡献了一个Airflow运算符，可以将运行提交到Databricks平台。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;在运营商内部与&lt;/font&gt;&lt;/font&gt;`api/2.0/jobs/runs/submit` [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;端点进行通信&lt;/font&gt;&lt;/font&gt;](https://docs.databricks.com/api/latest/jobs.html)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DatabricksSubmitRunOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.databricks_operator.DatabricksSubmitRunOperator（json = None，spark_jar_task = None，notebook_task = None，new_cluster = None，existing_cluster_id = None，libraries = None，run_name = None，timeout_seconds = None，databricks_conn_id ='databricks_default'，polling_period_seconds = 30，databricks_retry_limit = 3，do_xcom_push = False，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;使用&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;api / 2.0 / jobs / runs / submit&lt;/font&gt;&lt;/font&gt;](https://docs.databricks.com/api/latest/jobs.html)&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;API端点&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;向Databricks提交Spark作业运行&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;有两种方法可以实例化此运算符。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在第一种方式，你可以把你通常用它来调用的JSON有效载荷&lt;/font&gt;&lt;/font&gt;`api/2.0/jobs/runs/submit`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;端点并将其直接传递到我们&lt;/font&gt;&lt;/font&gt;`DatabricksSubmitRunOperator`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;通过&lt;/font&gt;&lt;/font&gt;`json`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数。&lt;/font&gt;&lt;/font&gt;例如

```py
 json = {
  'new_cluster' : {
    'spark_version' : '2.1.0-db3-scala2.11' ,
    'num_workers' : 2
  },
  'notebook_task' : {
    'notebook_path' : '/Users/airflow@example.com/PrepareData' ,
  },
}
notebook_run = DatabricksSubmitRunOperator ( task_id = 'notebook_run' , json = json )

```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;另一种完成同样事情的方法是直接使用命名参数&lt;/font&gt;&lt;/font&gt;`DatabricksSubmitRunOperator`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请注意，&lt;/font&gt;&lt;/font&gt;`runs/submit`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;端点&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;中的每个顶级参数都只有一个命名参数&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;在此方法中，您的代码如下所示：&lt;/font&gt;&lt;/font&gt;

```py
 new_cluster = {
  'spark_version' : '2.1.0-db3-scala2.11' ,
  'num_workers' : 2
}
notebook_task = {
  'notebook_path' : '/Users/airflow@example.com/PrepareData' ,
}
notebook_run = DatabricksSubmitRunOperator (
    task_id = 'notebook_run' ,
    new_cluster = new_cluster ,
    notebook_task = notebook_task )

```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;提供&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;json参数&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;和&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;命名参数&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;的情况下&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;，它们将合并在一起。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果在合并期间存在冲突，则命名参数将优先并覆盖顶级&lt;/font&gt;&lt;/font&gt;`json`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;键。&lt;/font&gt;&lt;/font&gt;

```py
 <font style="vertical-align: inherit;">目前DatabricksSubmitRunOperator支持的命名参数是</font> 
```

*   `spark_jar_task`
*   `notebook_task`
*   `new_cluster`
*   `existing_cluster_id`
*   `libraries`
*   `run_name`
*   `timeout_seconds`

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;json&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;包含API参数的JSON对象，将直接传递给&lt;/font&gt;&lt;/font&gt;`api/2.0/jobs/runs/submit`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;端点。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;其他命名参数（即&lt;/font&gt;&lt;/font&gt;`spark_jar_task`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，&lt;/font&gt;&lt;/font&gt;`notebook_task`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;..）到该运营商将与此JSON字典合并如果提供他们。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果在合并期间存在冲突，则命名参数将优先并覆盖顶级json键。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;

    也可以看看

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;有关模板的更多信息，请参阅&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;Jinja模板&lt;/font&gt;&lt;/font&gt;](concepts.html)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://docs.databricks.com/api/latest/jobs.html#runs-submit&lt;/font&gt;&lt;/font&gt;](https://docs.databricks.com/api/latest/jobs.html)

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;spark_jar_task&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;JAR任务的主要类和参数。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请注意，实际的JAR在&lt;/font&gt;&lt;/font&gt;`libraries`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。中&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;指定&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;无论是&lt;/font&gt;&lt;/font&gt;_ `spark_jar_task` _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;或&lt;/font&gt;&lt;/font&gt;_ `notebook_task`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;应符合规定。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该字段将被模板化。&lt;/font&gt;&lt;/font&gt;

    也可以看看

    [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://docs.databricks.com/api/latest/jobs.html#jobssparkjartask&lt;/font&gt;&lt;/font&gt;](https://docs.databricks.com/api/latest/jobs.html)

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;notebook_task&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;笔记本任务的笔记本路径和参数。&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;无论是&lt;/font&gt;&lt;/font&gt;_ `spark_jar_task` _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;或&lt;/font&gt;&lt;/font&gt;_ `notebook_task`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;应符合规定。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该字段将被模板化。&lt;/font&gt;&lt;/font&gt;

    也可以看看

    [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://docs.databricks.com/api/latest/jobs.html#jobsnotebooktask&lt;/font&gt;&lt;/font&gt;](https://docs.databricks.com/api/latest/jobs.html)

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;new_cluster&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将在其上运行此任务的新群集的规范。&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;无论是&lt;/font&gt;&lt;/font&gt;_ `new_cluster` _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;或&lt;/font&gt;&lt;/font&gt;_ `existing_cluster_id`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;应符合规定。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该字段将被模板化。&lt;/font&gt;&lt;/font&gt;

    也可以看看

    [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://docs.databricks.com/api/latest/jobs.html#jobsclusterspecnewcluster&lt;/font&gt;&lt;/font&gt;](https://docs.databricks.com/api/latest/jobs.html)

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;existing_cluster_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要运行此任务的现有集群的ID。&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;无论是&lt;/font&gt;&lt;/font&gt;_ `new_cluster` _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;或&lt;/font&gt;&lt;/font&gt;_ `existing_cluster_id`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;应符合规定。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该字段将被模板化。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;图书馆&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dicts列表&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;这个运行的库将使用。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该字段将被模板化。&lt;/font&gt;&lt;/font&gt;

    也可以看看

    [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://docs.databricks.com/api/latest/libraries.html#managedlibrarieslibrary&lt;/font&gt;&lt;/font&gt;](https://docs.databricks.com/api/latest/libraries.html)

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;run_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于此任务的运行名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认情况下，这将设置为Airflow&lt;/font&gt; &lt;/font&gt;`task_id`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;这&lt;/font&gt;&lt;/font&gt;`task_id`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;是超类的必需参数&lt;/font&gt;&lt;/font&gt;`BaseOperator`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该字段将被模板化。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;timeout_seconds&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int32&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 此次运行的超时。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认情况下，使用值0表示没有超时。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该字段将被模板化。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;databricks_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要使用的Airflow连接的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认情况下，在常见情况下，这将是&lt;/font&gt;&lt;/font&gt;`databricks_default`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;要使用基于令牌的身份验证，请&lt;/font&gt;&lt;/font&gt;`token`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在连接的额外字段中&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;提供密钥&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;polling_period_seconds&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 控制我们轮询此运行结果的速率。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认情况下，操作员每30秒轮询一次。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;databricks_retry_limit&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果Databricks后端无法访问，则重试的次数。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;其值必须大于或等于1。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;do_xcom_push&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;boolean&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 我们是否应该将run_id和run_page_url推送到xcom。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

## &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GCP：Google云端平台&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;Airflow广泛支持Google Cloud Platform。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;但请注意，大多数Hooks和Operators都在contrib部分。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;这意味着他们具有&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;beta&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;状态，这意味着他们可以在次要版本之间进行重大更改。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;请参阅&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GCP连接类型&lt;/font&gt;&lt;/font&gt;](howto/manage-connections.html)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;文档以配置与GCP的连接。&lt;/font&gt;&lt;/font&gt;

### 记录

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;可以将Airflow配置为在Google云端存储中读取和写入任务日志。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请参阅&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将日志写入Google云端存储&lt;/font&gt;&lt;/font&gt;](howto/write-logs.html)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

### BigQuery的

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQuery运算符&lt;/font&gt;&lt;/font&gt;

*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryCheckOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：对SQL查询执行检查，该查询将返回具有不同值的单行。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryValueCheckOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：使用SQL代码执行简单的值检查。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryIntervalCheckOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：检查作为SQL表达式给出的度量值是否在days_back之前的某个容差范围内。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryCreateEmptyTableOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在指定的BigQuery数据集中创建一个新的空表，可选择使用模式。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryCreateExternalTableOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：使用Google Cloud Storage中的数据在数据集中创建新的外部表。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryDeleteDatasetOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：删除现有的BigQuery数据集。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在特定的BigQuery数据库中执行BigQuery SQL查询。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryToBigQueryOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：将BigQuery表复制到另一个BigQuery表。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryToCloudStorageOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：将BigQuery表传输到Google Cloud Storage存储桶&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryCheckOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.bigquery_check_operator.BigQueryCheckOperator（sql，bigquery_conn_id ='bigquery_default'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.operators.check_operator.CheckOperator`](code.html "airflow.operators.check_operator.CheckOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;对BigQuery执行检查。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该&lt;/font&gt;&lt;/font&gt;`BigQueryCheckOperator`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;预期的SQL查询将返回一行。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;使用python&lt;/font&gt; &lt;/font&gt;`bool`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;强制转换&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;评估第一行的每个值&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果任何值返回，&lt;/font&gt;&lt;/font&gt;`False`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;则检查失败并输出错误。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;请注意，Python bool强制转换如下&lt;/font&gt;&lt;/font&gt;`False`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;

*   `False`
*   `0`
*   &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;空字符串（&lt;/font&gt;&lt;/font&gt;`""`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;）&lt;/font&gt;&lt;/font&gt;
*   &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;空列表（&lt;/font&gt;&lt;/font&gt;`[]`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;）&lt;/font&gt;&lt;/font&gt;
*   &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;空字典或集（&lt;/font&gt;&lt;/font&gt;`{}`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;）&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;给定一个查询&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;，它只会在计数时失败&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;您可以制作更复杂的查询，例如，可以检查表与上游源表的行数相同，或者今天的分区计数大于昨天的分区，或者一组指标是否更少7天平均值超过3个标准差。&lt;/font&gt;&lt;/font&gt;`SELECT COUNT(*) FROM foo``== 0`

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;此运算符可用作管道中的数据质量检查，并且根据您在DAG中的位置，您可以选择停止关键路径，防止发布可疑数据，或者在旁边接收电子邮件替代品阻止DAG的进展。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;sql&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要执行的sql&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bigquery_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对BigQuery数据库的引用&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryValueCheckOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.bigquery_check_operator.BigQueryValueCheckOperator（sql，pass_value，tolerance = None，bigquery_conn_id ='bigquery_default'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.operators.check_operator.ValueCheckOperator`](code.html "airflow.operators.check_operator.ValueCheckOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;使用sql代码执行简单的值检查。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;sql&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要执行的sql&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryIntervalCheckOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.bigquery_check_operator.BigQueryIntervalCheckOperator（table，metrics_thresholds，date_filter_column ='ds'，days_back = -7，bigquery_conn_id ='bigquery_default'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.operators.check_operator.IntervalCheckOperator`](code.html "airflow.operators.check_operator.IntervalCheckOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;检查作为SQL表达式给出的度量值是否在days_back之前的某个容差范围内。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;此方法构造一个类似的查询&lt;/font&gt;&lt;/font&gt;

```py
 SELECT { metrics_threshold_dict_key } FROM { table }
    WHERE { date_filter_column } =< date >

```

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;table&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;str&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 表名&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;days_back&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - ds与我们要检查的ds之间的天数。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认为7天&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;metrics_threshold&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 由指标索引的比率字典，例如'COUNT（*）'：1.5将需要当前日和之前的days_back之间50％或更小的差异。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryGetDataOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.bigquery_get_data.BigQueryGetDataOperator（dataset_id，table_id，max_results ='100'，selected_fields = None，bigquery_conn_id ='bigquery_default'，delegate_to = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;从BigQuery表中获取数据（或者为所选列获取数据）并在python列表中返回数据。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;返回列表中的元素数将等于获取的行数。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;列表中的每个元素将再次是一个列表，其中元素将表示该行的列值。&lt;/font&gt;&lt;/font&gt;

**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;结果示例&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;`[['Tony', '10'], ['Mike', '20'], ['Steve', '15']]`

注意

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果传递的字段&lt;/font&gt;&lt;/font&gt;`selected_fields`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;的顺序与BQ表中已有的列的顺序不同，则数据仍将按BQ表的顺序排列。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;例如，如果BQ表有3列，&lt;/font&gt;&lt;/font&gt;`[A,B,C]`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;并且您传递'B，&lt;/font&gt;&lt;/font&gt;`selected_fields`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;那么数据&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;中的A'&lt;/font&gt; &lt;font style="vertical-align: inherit;"&gt;仍然是表格&lt;/font&gt;&lt;/font&gt;`'A,B'`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

**示例** ：

```py
 get_data = BigQueryGetDataOperator (
    task_id = 'get_data_from_bq' ,
    dataset_id = 'test_dataset' ,
    table_id = 'Transaction_partitions' ,
    max_results = '100' ,
    selected_fields = 'DATE' ,
    bigquery_conn_id = 'airflow-service-account'
)

```

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataset_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 请求的表的数据集ID。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;table_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 请求表的表ID。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;max_results&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 从表中获取的最大记录数（行数）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;selected_fields&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要返回的字段列表（逗号分隔）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未指定，则返回所有字段。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bigquery_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定BigQuery钩子的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryCreateEmptyTableOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.bigquery_operator.BigQueryCreateEmptyTableOperator（dataset_id，table_id，project_id = None，schema_fields = None，gcs_schema_object = None，time_partitioning = {}，bigquery_conn_id ='bigquery_default'，google_cloud_storage_conn_id ='google_cloud_default'，delegate_to = None，* args ，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在指定的BigQuery数据集中创建一个新的空表，可选择使用模式。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;可以用两种方法之一指定用于BigQuery表的模式。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;您可以直接传递架构字段，也可以将运营商指向Google云存储对象名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;Google云存储中的对象必须是包含架构字段的JSON文件。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;您还可以创建没有架构的表。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 将表创建的项目。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataset_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于创建表的数据集。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;table_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要创建的表的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema_fields&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果设置，则此处定义的架构字段列表：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;](https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs)&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/bigquery/docs/reference/rest/v2/jobs#configuration.load.schema&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs)

    **示例** ：

    ```py
     schema_fields = [{ "name" : "emp_name" , "type" : "STRING" , "mode" : "REQUIRED" },
                   { "name" : "salary" , "type" : "INTEGER" , "mode" : "NULLABLE" }]

    ```

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcs_schema_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 包含模式（模板化）的JSON文件的完整路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;例如：&lt;/font&gt;&lt;/font&gt;`gs://test-bucket/dir1/dir2/employee_schema.json`
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;time_partitioning&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;配置可选的时间分区字段，即按API规范按字段，类型和到期分区。&lt;/font&gt;&lt;/font&gt;

    也可以看看

    [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/bigquery/docs/reference/rest/v2/tables#timePartitioning&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/bigquery/docs/reference/rest/v2/tables)

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bigquery_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定BigQuery挂钩的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google_cloud_storage_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定Google云存储挂钩的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;示例（在GCS中使用模式JSON）&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;

```py
 CreateTable = BigQueryCreateEmptyTableOperator (
    task_id = 'BigQueryCreateEmptyTableOperator_task' ,
    dataset_id = 'ODS' ,
    table_id = 'Employees' ,
    project_id = 'internal-gcp-project' ,
    gcs_schema_object = 'gs://schema-bucket/employee_schema.json' ,
    bigquery_conn_id = 'airflow-service-account' ,
    google_cloud_storage_conn_id = 'airflow-service-account'
)

```

**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;对应的Schema文件&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;`employee_schema.json`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;）：&lt;/font&gt;&lt;/font&gt;

```py
 [
  {
    "mode" : "NULLABLE" ,
    "name" : "emp_name" ,
    "type" : "STRING"
  },
  {
    "mode" : "REQUIRED" ,
    "name" : "salary" ,
    "type" : "INTEGER"
  }
]

```

**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;示例（在DAG中使用模式）&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;

```py
 CreateTable = BigQueryCreateEmptyTableOperator (
    task_id = 'BigQueryCreateEmptyTableOperator_task' ,
    dataset_id = 'ODS' ,
    table_id = 'Employees' ,
    project_id = 'internal-gcp-project' ,
    schema_fields = [{ "name" : "emp_name" , "type" : "STRING" , "mode" : "REQUIRED" },
                   { "name" : "salary" , "type" : "INTEGER" , "mode" : "NULLABLE" }],
    bigquery_conn_id = 'airflow-service-account' ,
    google_cloud_storage_conn_id = 'airflow-service-account'
)

```

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryCreateExternalTableOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.bigquery_operator.BigQueryCreateExternalTableOperator（bucket，source_objects，destination_project_dataset_table，schema_fields = None，schema_object = None，source_format ='CSV'，compression ='NONE'，skip_leading_rows = 0，field_delimiter ='，'，max_bad_records = 0 ，quote_character = None，allow_quoted_newlines = False，allow_jagged_rows = False，bigquery_conn_id ='bigquery_default'，google_cloud_storage_conn_id ='google_cloud_default'，delegate_to = None，src_fmt_configs = {}，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;使用Google云端存储中的数据在数据集中创建新的外部表。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;可以用两种方法之一指定用于BigQuery表的模式。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;您可以直接传递架构字段，也可以将运营商指向Google云存储对象名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;Google云存储中的对象必须是包含架构字段的JSON文件。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 指向外部表的存储桶。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_objects&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 指向表格的Google云存储URI列表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板化）如果source_format是'DATASTORE_BACKUP'，则列表必须只包含一个URI。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_project_dataset_table&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于将数据加载到（模板化）的虚线（&lt;project&gt;。）&lt;dataset&gt;。&lt;table&gt; BigQuery表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未包含&lt;project&gt;，则项目将是连接json中定义的项目。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema_fields&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果设置，则此处定义的架构字段列表：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;](https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs)&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/bigquery/docs/reference/rest/v2/jobs#configuration.load.schema&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs)

    **示例** ：

    ```py
     schema_fields = [{ "name" : "emp_name" , "type" : "STRING" , "mode" : "REQUIRED" },
                   { "name" : "salary" , "type" : "INTEGER" , "mode" : "NULLABLE" }]

    ```

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;当source_format为'DATASTORE_BACKUP'时，不应设置。&lt;/font&gt;&lt;/font&gt;

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 如果设置，则指向包含表的架构的.json文件的GCS对象路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 字符串&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_format&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 数据的文件格式。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;compression&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - [可选]数据源的压缩类型。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;可能的值包括GZIP和NONE。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认值为NONE。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;Google Cloud Bigtable，Google Cloud Datastore备份和Avro格式会忽略此设置。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;skip_leading_rows&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 从CSV加载时要跳过的行数。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;field_delimiter&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于CSV的分隔符。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;max_bad_records&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - BigQuery在运行作业时可以忽略的最大错误记录数。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;quote_character&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于引用CSV文件中数据部分的值。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;allow_quoted_newlines&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;boolean&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 是否允许引用的换行符（true）或不允许（false）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;allow_jagged_rows&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bool&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 接受缺少尾随可选列的行。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;缺失值被视为空值。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果为false，则缺少尾随列的记录将被视为错误记录，如果错误记录太多，则会在作业结果中返回无效错误。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;仅适用于CSV，忽略其他格式。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bigquery_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定BigQuery挂钩的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google_cloud_storage_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定Google云存储挂钩的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;src_fmt_configs&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 配置特定于源格式的可选字段&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryDeleteDatasetOperator&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.bigquery_operator.BigQueryOperator（bql = None，sql = None，destination_dataset_table = False，write_disposition ='WRITE_EMPTY'，allow_large_results = False，flatten_results = False，bigquery_conn_id ='bigquery_default'，delegate_to = None，udf_config = False ，use_legacy_sql = True，maximum_billing_tier = None，maximum_bytes_billed = None，create_disposition ='CREATE_IF_NEEDED'，schema_update_options =（），query_params = None，priority ='INTERACTIVE'，time_partitioning = {}，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在特定的BigQuery数据库中执行BigQuery SQL查询&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BQL&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;可接收表示SQL语句中的海峡&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;海峡列表&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;SQL语句&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;）&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，或&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参照模板文件模板引用在“.SQL”结束海峡认可。&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - （不推荐使用。&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;SQL&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数代替）要执行的sql代码（模板化）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;SQL&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;可接收表示SQL语句中的海峡&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;海峡列表&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;SQL语句&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;）&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，或&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参照模板文件模板引用在“.SQL”结束海峡认可。&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - SQL代码被执行（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_dataset_table&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 一个虚线（&lt;project&gt;。&#124; &lt;project&gt;：）&lt;dataset&gt;。&lt;table&gt;，如果设置，将存储查询结果。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;write_disposition&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 指定目标表已存在时发生的操作。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（默认：'WRITE_EMPTY'）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;create_disposition&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 指定是否允许作业创建新表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（默认值：'CREATE_IF_NEEDED'）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;allow_large_results&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;boolean&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 是否允许大结果。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;flatten_results&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;boolean&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果为true且查询使用旧版SQL方言，则展平查询结果中的所有嵌套和重复字段。&lt;/font&gt;&lt;/font&gt;`allow_large_results`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;必须是&lt;/font&gt;&lt;/font&gt;`true`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果设置为&lt;/font&gt;&lt;/font&gt;`false`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;对于标准SQL查询，将忽略此标志，并且结果永远不会展平。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bigquery_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定BigQuery钩子的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;udf_config&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 查询的用户定义函数配置。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;有关&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;详细信息，&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请参阅&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/bigquery/user-defined-functions&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/bigquery/user-defined-functions)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;use_legacy_sql&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;boolean&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 是使用旧SQL（true）还是标准SQL（false）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;maximum_billing_tier&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;整数&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用作基本价格乘数的正整数。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认为None，在这种情况下，它使用项目中设置的值。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;maximum_bytes_billed&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;float&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 限制为此作业计费的字节数。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;超出此限制的字节数的查询将失败（不会产生费用）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未指定，则将其设置为项目默认值。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema_update_options&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;tuple&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 允许更新目标表的模式作为加载作业的副作用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;query_params&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 包含查询参数类型和值的字典，传递给BigQuery。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;priority&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 指定查询的优先级。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;可能的值包括INTERACTIVE和BATCH。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认值为INTERACTIVE。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;time_partitioning&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 配置可选的时间分区字段，即按API规范按字段，类型和到期分区。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请注意，'field'不能与dataset.table $ partition一起使用。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryTableDeleteOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.bigquery_table_delete_operator.BigQueryTableDeleteOperator（deletion_dataset_table，bigquery_conn_id ='bigquery_default'，delegate_to = None，ignore_if_missing = False，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;删除BigQuery表&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;deletion_dataset_table&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 一个虚线（&lt;project&gt;。&#124; &lt;project&gt;：）&lt;dataset&gt;。&lt;table&gt;，指示将删除哪个表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bigquery_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定BigQuery钩子的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;ignore_if_missing&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;boolean&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果为True，则即使请求的表不存在也返回成功。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryToBigQueryOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.bigquery_to_bigquery.BigQueryToBigQueryOperator（source_project_dataset_tables，destination_project_dataset_table，write_disposition ='WRITE_EMPTY'，create_disposition ='CREATE_IF_NEEDED'，bigquery_conn_id ='bigquery_default'，delegate_to = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将数据从一个BigQuery表复制到另一个。&lt;/font&gt;&lt;/font&gt;

也可以看看

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;有关这些参数的详细信息，请访问：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;](https://cloud.google.com/bigquery/docs/reference/v2/jobs)&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/bigquery/docs/reference/v2/jobs#configuration.copy&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/bigquery/docs/reference/v2/jobs)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_project_dataset_tables&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list &#124; string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 一个或多个点（项目：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;&#124;&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;项目。）&lt;dataset&gt;。&lt;table&gt;用作源数据的BigQuery表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未包含&lt;project&gt;，则项目将是连接json中定义的项目。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果有多个源表，请使用列表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_project_dataset_table&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 目标BigQuery表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;格式为：（project：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;&#124;&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;project。）&lt;dataset&gt;。&lt;table&gt;（模板化）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;write_disposition&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 表已存在时的写处置。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;create_disposition&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果表不存在，则创建处置。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bigquery_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定BigQuery钩子的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryToCloudStorageOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.bigquery_to_gcs.BigQueryToCloudStorageOperator（source_project_dataset_table，destination_cloud_storage_uris，compression ='NONE'，export_format ='CSV'，field_delimiter ='，'，print_header = True，bigquery_conn_id ='bigquery_default'，delegate_to = None，* args， ** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将BigQuery表传输到Google Cloud Storage存储桶。&lt;/font&gt;&lt;/font&gt;

也可以看看

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;有关这些参数的详细信息，请访问：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;](https://cloud.google.com/bigquery/docs/reference/v2/jobs)&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/bigquery/docs/reference/v2/jobs&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/bigquery/docs/reference/v2/jobs)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_project_dataset_table&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用作源数据的虚线（&lt;project&gt;。&#124; &lt;project&gt;：）&lt;dataset&gt;。&lt;table&gt; BigQuery表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未包含&lt;project&gt;，则项目将是连接json中定义的项目。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_cloud_storage_uris&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 目标Google云端存储URI（例如gs：//some-bucket/some-file.txt）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板化）遵循此处定义的惯例：https：//cloud.google.com/bigquery/exporting-data-from-bigquery#exportingmultiple&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;compression&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要使用的压缩类型。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;export_format&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 要导出的文件格式。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;field_delimiter&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 提取到CSV时使用的分隔符。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;print_header&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;boolean&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 是否打印CSV文件提取的标头。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bigquery_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定BigQuery钩子的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;BigQueryHook&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.hooks.bigquery_hook.BigQueryHook（bigquery_conn_id ='bigquery_default'，delegate_to = None，use_legacy_sql = True）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt;&lt;/font&gt;[`airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook`](code.html "airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook")&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，&lt;/font&gt;&lt;/font&gt;[`airflow.hooks.dbapi_hook.DbApiHook`](code.html "airflow.hooks.dbapi_hook.DbApiHook")&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，&lt;/font&gt;&lt;/font&gt;`airflow.utils.log.logging_mixin.LoggingMixin`

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;与BigQuery交互。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;此挂钩使用Google Cloud Platform连接。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">get_conn（）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;返回BigQuery PEP 249连接对象。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">get_pandas_df（sql，parameters = None，dialect = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;返回BigQuery查询生成的结果的Pandas DataFrame。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;必须重写DbApiHook方法，因为Pandas不支持PEP 249连接，但SQLite除外。&lt;/font&gt;&lt;/font&gt;看到：

[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://github.com/pydata/pandas/blob/master/pandas/io/sql.py#L447&lt;/font&gt; &lt;/font&gt;](https://github.com/pydata/pandas/blob/master/pandas/io/sql.py)[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://github.com/pydata/pandas/issues/6900&lt;/font&gt;&lt;/font&gt;](https://github.com/pydata/pandas/issues/6900)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;sql&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要执行的BigQuery SQL。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;映射&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;或&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;可迭代&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于呈现SQL查询的参数（未使用，请保留覆盖超类方法）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dialect&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;{'legacy'&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;'standard'}中的&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;_&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;） - BigQuery SQL的方言 - 遗留SQL或标准SQL默认使用&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;self.use_legacy_sql（&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果未指定）&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
<font style="vertical-align: inherit;">get_service（）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;返回一个BigQuery服务对象。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">insert_rows（table，rows，target_fields = None，commit_every = 1000）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;目前不支持插入。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;从理论上讲，您可以使用BigQuery的流API将行插入表中，但这尚未实现。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">table_exists（project_id，dataset_id，table_id）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;检查Google BigQuery中是否存在表格。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要在其中查找表的Google云项目。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;提供给钩子的连接必须提供对指定项目的访问。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataset_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要在其中查找表的数据集的名称。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;table_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要检查的表的名称。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;云DataFlow&lt;/font&gt;&lt;/font&gt;

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataFlow运算符&lt;/font&gt;&lt;/font&gt;

*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataFlowJavaOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：启动用Java编写的Cloud Dataflow作业。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataflowTemplateOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：启动模板化的Cloud DataFlow批处理作业。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataFlowPythonOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：启动用python编写的Cloud Dataflow作业。&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataFlowJavaOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataflow_operator.DataFlowJavaOperator（jar，dataflow_default_options = None，options = None，gcp_conn_id ='google_cloud_default'，delegate_to = None，poll_sleep = 10，job_class = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;启动Java Cloud DataFlow批处理作业。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;操作的参数将传递给作业。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在dag的default_args中定义dataflow_ *参数是一个很好的做法，例如项目，区域和分段位置。&lt;/font&gt;&lt;/font&gt;

```py
 default_args = {
    'dataflow_default_options' : {
        'project' : 'my-gcp-project' ,
        'zone' : 'europe-west1-d' ,
        'stagingLocation' : 'gs://my-staging-bucket/staging/'
    }
}

```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;您需要使用&lt;/font&gt;&lt;/font&gt;`jar`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;将路径作为文件引用传递给数据流&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;，jar需要是一个自动执行的jar（请参阅以下文档：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;&lt;/font&gt;](https://beam.apache.org/documentation/runners/dataflow/)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;//beam.apache.org/documentation/runners/dataflow/#self-执行jar&lt;/font&gt;](https://beam.apache.org/documentation/runners/dataflow/)&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;使用&lt;/font&gt;&lt;/font&gt;`options`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;转嫁选项你的工作。&lt;/font&gt;&lt;/font&gt;

```py
 t1 = DataFlowOperation (
    task_id = 'datapflow_example' ,
    jar = '{{var.value.gcp_dataflow_base}}pipeline/build/libs/pipeline-example-1.0.jar' ,
    options = {
        'autoscalingAlgorithm' : 'BASIC' ,
        'maxNumWorkers' : '50' ,
        'start' : '{{ds}}' ,
        'partitionType' : 'DAY' ,
        'labels' : { 'foo' : 'bar' }
    },
    gcp_conn_id = 'gcp-airflow-service-account' ,
    dag = my - dag )

```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;这两个&lt;/font&gt;&lt;/font&gt;`jar`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;和&lt;/font&gt;&lt;/font&gt;`options`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;模板化，所以你可以在其中使用变量。&lt;/font&gt;&lt;/font&gt;

```py
 default_args = {
    'owner' : 'airflow' ,
    'depends_on_past' : False ,
    'start_date' :
        ( 2016 , 8 , 1 ),
    'email' : [ 'alex@vanboxel.be' ],
    'email_on_failure' : False ,
    'email_on_retry' : False ,
    'retries' : 1 ,
    'retry_delay' : timedelta ( minutes = 30 ),
    'dataflow_default_options' : {
        'project' : 'my-gcp-project' ,
        'zone' : 'us-central1-f' ,
        'stagingLocation' : 'gs://bucket/tmp/dataflow/staging/' ,
    }
}

dag = DAG ( 'test-dag' , default_args = default_args )

task = DataFlowJavaOperator (
    gcp_conn_id = 'gcp_default' ,
    task_id = 'normalize-cal' ,
    jar = '{{var.value.gcp_dataflow_base}}pipeline-ingress-cal-normalize-1.0.jar' ,
    options = {
        'autoscalingAlgorithm' : 'BASIC' ,
        'maxNumWorkers' : '50' ,
        'start' : '{{ds}}' ,
        'partitionType' : 'DAY'

    },
    dag = dag )

```

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataflowTemplateOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataflow_operator.DataflowTemplateOperator（template，dataflow_default_options = None，parameters = None，gcp_conn_id ='google_cloud_default'，delegate_to = None，poll_sleep = 10，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;启动模板化云DataFlow批处理作业。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;操作的参数将传递给作业。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;在dag的default_args中定义dataflow_ *参数是一个很好的做法，例如项目，区域和分段位置。&lt;/font&gt;&lt;/font&gt;

也可以看看

[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/dataflow/docs/reference/rest/v1b3/LaunchTemplateParameters&lt;/font&gt; &lt;/font&gt;](https://cloud.google.com/dataflow/docs/reference/rest/v1b3/LaunchTemplateParameters)[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/dataflow/docs/reference/rest/v1b3/RuntimeEnvironment&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/dataflow/docs/reference/rest/v1b3/RuntimeEnvironment)

```py
 default_args = {
    'dataflow_default_options' : {
        'project' : 'my-gcp-project'
        'zone' : 'europe-west1-d' ,
        'tempLocation' : 'gs://my-staging-bucket/staging/'
        }
    }
}

```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;您需要将路径作为带&lt;/font&gt;&lt;/font&gt;`template`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;的文件引用传递给数据流模板&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;使用&lt;/font&gt;&lt;/font&gt;`parameters`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;来传递参数给你的工作。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;使用&lt;/font&gt;&lt;/font&gt;`environment`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;对运行环境变量传递给你的工作。&lt;/font&gt;&lt;/font&gt;

```py
 t1 = DataflowTemplateOperator (
    task_id = 'datapflow_example' ,
    template = '{{var.value.gcp_dataflow_base}}' ,
    parameters = {
        'inputFile' : "gs://bucket/input/my_input.txt" ,
        'outputFile' : "gs://bucket/output/my_output.txt"
    },
    gcp_conn_id = 'gcp-airflow-service-account' ,
    dag = my - dag )

```

`template`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，&lt;/font&gt;&lt;/font&gt;`dataflow_default_options`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;并且&lt;/font&gt;&lt;/font&gt;`parameters`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;是模板化的，因此您可以在其中使用变量。&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataFlowPythonOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataflow_operator.DataFlowPythonOperator（py_file，py_options = None，dataflow_default_options = None，options = None，gcp_conn_id ='google_cloud_default'，delegate_to = None，poll_sleep = 10，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

```py
<font style="vertical-align: inherit;">执行（上下文）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;执行python数据流作业。&lt;/font&gt;&lt;/font&gt;

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataFlowHook&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.hooks.gcp_dataflow_hook.DataFlowHook（gcp_conn_id ='google_cloud_default'，delegate_to = None，poll_sleep = 10）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook`](code.html "airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook")

```py
<font style="vertical-align: inherit;">get_conn（）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;返回Google云端存储服务对象。&lt;/font&gt;&lt;/font&gt;

### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;Cloud DataProc&lt;/font&gt;&lt;/font&gt;

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProc运算符&lt;/font&gt;&lt;/font&gt;

*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataprocClusterCreateOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Google Cloud Dataproc上创建新群集。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataprocClusterDeleteOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：删除Google Cloud Dataproc上的群集。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataprocClusterScaleOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Google Cloud Dataproc上向上或向下扩展群集。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcPigOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Cloud DataProc集群上启动Pig查询作业。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcHiveOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Cloud DataProc群集上启动Hive查询作业。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcSparkSqlOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Cloud DataProc集群上启动Spark SQL查询作业。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcSparkOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Cloud DataProc集群上启动Spark作业。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcHadoopOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Cloud DataProc集群上启动Hadoop作业。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcPySparkOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Cloud DataProc群集上启动PySpark作业。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataprocWorkflowTemplateInstantiateOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Google Cloud Dataproc上实例化WorkflowTemplate。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataprocWorkflowTemplateInstantiateInlineOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Google Cloud Dataproc上实例化WorkflowTemplate内联。&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataprocClusterCreateOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataprocClusterCreateOperator（cluster_name，project_id，num_workers，zone，network_uri = None，subnetwork_uri = None，internal_ip_only = None，tags = None，storage_bucket = None，init_actions_uris = None，init_action_timeout ='10m'，metadata =无，image_version =无，属性=无，master_machine_type ='n1-standard-4'，master_disk_size = 500，worker_machine_type ='n1-standard-4'，worker_disk_size = 500，num_preemptible_workers = 0，labels = None，region =' global'，gcp_conn_id ='google_cloud_default'，delegate_to = None，service_account = None，service_account_scopes = None，idle_delete_ttl = None，auto_delete_time = None，auto_delete_ttl = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Google Cloud Dataproc上创建新群集。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;操作员将等待创建成功或创建过程中发生错误。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数允许配置群集。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请参阅&lt;/font&gt;&lt;/font&gt;

[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.regions.clusters&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.regions.clusters)

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;有关不同参数的详细说明。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;链接中详述的大多数配置参数都可作为此运算符的参数。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cluster_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要创建的DataProc集群的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于创建集群的Google云项目的ID。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;num_workers&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 旋转的工人数量&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;storage_bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要使用的存储桶，设置为None允许dataproc为您生成自定义存储桶&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;init_actions_uris&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;[&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;]&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 包含数据空间初始化脚本的GCS uri列表&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;init_action_timeout&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - init_actions_uris中可执行脚本必须完成的时间&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;元数据&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字典&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要添加到所有实例的键值google计算引擎元数据条目的字典&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;image_version&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - Dataproc集群内的软件版本&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;属性&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字典&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -性能上的配置文件设置的字典（如火花defaults.conf），见&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/dataproc/docs/reference/rest/v1/&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/dataproc/docs/reference/rest/v1/)&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;projects.regions.clusters＃SoftwareConfig&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;master_machine_type&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 计算要用于主节点的引擎机器类型&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;master_disk_size&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 主节点的磁盘大小&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;worker_machine_type&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 计算要用于工作节点的引擎计算机类型&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;worker_disk_size&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 工作节点的磁盘大小&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;num_preemptible_workers&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要旋转的可抢占工作节点数&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;labels&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要添加到集群的标签的字典&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;zone&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 群集所在的区域。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;network_uri&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于机器通信的网络uri，不能用subnetwork_uri指定&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;subnetwork_uri&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 无法使用network_uri指定要用于机器通信的子网uri&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;internal_ip_only&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bool&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果为true，则群集中的所有实例将只具有内部IP地址。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;这只能为启用子网的网络启用&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;tags&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;[&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;]&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要添加到所有实例的GCE标记&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;地区&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 作为'全球'留下，可能在未来变得相关。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;service_account&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - dataproc实例的服务帐户。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;service_account_scopes&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;[&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;]&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要包含的服务帐户范围的URI。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;idle_delete_ttl&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 群集在保持空闲状态时保持活动状态的最长持续时间。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;通过此阈值将导致群集被自动删除。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;持续时间（秒）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;auto_delete_time&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;datetime.datetime&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 自动删除群集的时间。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;auto_delete_ttl&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 群集的生命周期，群集将在此持续时间结束时自动删除。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;持续时间（秒）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（如果设置了auto_delete_time，则将忽略此参数）&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataprocClusterScaleOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataprocClusterScaleOperator（cluster_name，project_id，region ='global'，gcp_conn_id ='google_cloud_default'，delegate_to = None，num_workers = 2，num_preemptible_workers = 0，graceful_decommission_timeout = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Google Cloud Dataproc上进行扩展，向上或向下扩展。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;操作员将等待，直到重新调整群集。&lt;/font&gt;&lt;/font&gt;

**示例** ：

```py
 <font style="vertical-align: inherit;">t1 = DataprocClusterScaleOperator（</font> 
```

<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">task_id ='dataproc_scale'，project_id ='my-project'，cluster_name ='cluster-1'，num_workers = 10，num_preemptible_workers = 10，graceful_decommission_timeout ='1h'dag = dag）</font></font>

也可以看看

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;有关扩展群集的更多详细信息，请参阅以下参考：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;](https://cloud.google.com/dataproc/docs/concepts/configuring-clusters/scaling-clusters)&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/dataproc/docs/concepts/configuring-clusters/scaling-clusters&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/dataproc/docs/concepts/configuring-clusters/scaling-clusters)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cluster_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要扩展的集群的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 群集运行的Google云项目的ID。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 数据通路簇的区域。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;num_workers&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 新的工人数量&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;num_preemptible_workers&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 新的可抢占工人数量&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;graceful_decommission_timeout&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 优雅的YARN decomissioning超时。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;最大值为1d&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataprocClusterDeleteOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataprocClusterDeleteOperator（cluster_name，project_id，region ='global'，gcp_conn_id ='google_cloud_default'，delegate_to = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;删除Google Cloud Dataproc上的群集。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;操作员将等待，直到群集被销毁。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cluster_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要创建的集群的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 群集运行的Google云项目的ID。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 保留为“全局”，将来可能会变得相关。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcPigOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataProcPigOperator（query = None，query_uri = None，variables = None，job_name ='{{task.task_id}} _ {{ds_nodash}}'，cluster_name ='cluster-1'，dataproc_pig_properties =无，dataproc_pig_jars =无，gcp_conn_id ='google_cloud_default'，delegate_to =无，region ='全局'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Cloud DataProc群集上启动Pig查询作业。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;操作的参数将传递给集群。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在dag的default_args中定义dataproc_ *参数是一种很好的做法，比如集群名称和UDF。&lt;/font&gt;&lt;/font&gt;

```py
 default_args = {
    'cluster_name' : 'cluster-1' ,
    'dataproc_pig_jars' : [
        'gs://example/udf/jar/datafu/1.2.0/datafu.jar' ,
        'gs://example/udf/jar/gpig/1.2/gpig.jar'
    ]
}

```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;您可以将pig脚本作为字符串或文件引用传递。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;使用变量传递要在群集上解析的pig脚本的变量，或者使用要在脚本中解析的参数作为模板参数。&lt;/font&gt;&lt;/font&gt;

**示例** ：

```py
 t1 = DataProcPigOperator (
        task_id = 'dataproc_pig' ,
        query = 'a_pig_script.pig' ,
        variables = { 'out' : 'gs://example/output/{{ds}}' },
        dag = dag )

```

也可以看看

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;有关工作提交的更多详细信息，请参阅以下参考：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;](https://cloud.google.com/dataproc/reference/rest/v1/projects.regions.jobs)&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/dataproc/reference/rest/v1/projects.regions.jobs&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/dataproc/reference/rest/v1/projects.regions.jobs)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;query&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对查询文件的查询或引用（pg或pig扩展）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;query_uri&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 云存储上的猪脚本的uri。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;variables&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 查询的命名参数的映射。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;job_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群中使用的作业名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认情况下，此名称是附加执行数据的task_id，但可以进行模板化。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该名称将始终附加一个随机数，以避免名称冲突。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cluster_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_pig_properties&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - Pig属性的映射。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;非常适合放入默认参数&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_pig_jars&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 在云存储中配置的jars的URI（例如：用于UDF和lib），非常适合放入默认参数。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 创建数据加载集群的指定区域。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcHiveOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataProcHiveOperator（query = None，query_uri = None，variables = None，job_name ='{{task.task_id}} _ {{ds_nodash}}'，cluster_name ='cluster-1'，dataproc_hive_properties =无，dataproc_hive_jars =无，gcp_conn_id ='google_cloud_default'，delegate_to =无，region ='全局'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Cloud DataProc群集上启动Hive查询作业。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;query&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 查询或对查询文件的引用（q扩展名）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;query_uri&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 云存储上的hive脚本的uri。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;variables&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 查询的命名参数的映射。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;job_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群中使用的作业名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认情况下，此名称是附加执行数据的task_id，但可以进行模板化。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该名称将始终附加一个随机数，以避免名称冲突。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cluster_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群的名称。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_hive_properties&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - Pig属性的映射。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;非常适合放入默认参数&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_hive_jars&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 在云存储中配置的jars的URI（例如：用于UDF和lib），非常适合放入默认参数。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 创建数据加载集群的指定区域。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcSparkSqlOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataProcSparkSqlOperator（query = None，query_uri = None，variables = None，job_name ='{{task.task_id}} _ {{ds_nodash}}'，cluster_name ='cluster-1'，dataproc_spark_properties =无，dataproc_spark_jars =无，gcp_conn_id ='google_cloud_default'，delegate_to =无，region ='全局'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Cloud DataProc集群上启动Spark SQL查询作业。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;query&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 查询或对查询文件的引用（q扩展名）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;query_uri&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 云存储上的一个spark sql脚本的uri。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;variables&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 查询的命名参数的映射。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;job_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群中使用的作业名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认情况下，此名称是附加执行数据的task_id，但可以进行模板化。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该名称将始终附加一个随机数，以避免名称冲突。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cluster_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_spark_properties&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - Pig属性的映射。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;非常适合放入默认参数&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_spark_jars&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 在云存储中配置的jars的URI（例如：用于UDF和lib），非常适合放入默认参数。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 创建数据加载集群的指定区域。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcSparkOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataProcSparkOperator（main_jar = None，main_class = None，arguments = None，archives = None，files = None，job_name ='{{task.task_id}} _ {{ds_nodash}}'，cluster_name ='cluster-1'，dataproc_spark_properties =无，dataproc_spark_jars =无，gcp_conn_id ='google_cloud_default'，delegate_to =无，region ='全局'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Cloud DataProc群集上启动Spark作业。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;main_jar&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 在云存储上配置的作业jar的URI。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（使用this或main_class，而不是两者一起）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;main_class&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 作业类的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（使用this或main_jar，而不是两者一起）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;arguments&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 作业的参数。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;archives&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 将在工作目录中解压缩的已归档文件列表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;应存储在云存储中。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;files&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要复制到工作目录的文件列表&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;job_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群中使用的作业名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认情况下，此名称是附加执行数据的task_id，但可以进行模板化。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该名称将始终附加一个随机数，以避免名称冲突。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cluster_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_spark_properties&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - Pig属性的映射。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;非常适合放入默认参数&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_spark_jars&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 在云存储中配置的jars的URI（例如：用于UDF和lib），非常适合放入默认参数。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 创建数据加载集群的指定区域。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcHadoopOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataProcHadoopOperator（main_jar = None，main_class = None，arguments = None，archives = None，files = None，job_name ='{{task.task_id}} _ {{ds_nodash}}'，cluster_name ='cluster-1'，dataproc_hadoop_properties =无，dataproc_hadoop_jars =无，gcp_conn_id ='google_cloud_default'，delegate_to =无，region ='全局'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Cloud DataProc群集上启动Hadoop作业。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;main_jar&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 在云存储上配置的作业jar的URI。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（使用this或main_class，而不是两者一起）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;main_class&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 作业类的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（使用this或main_jar，而不是两者一起）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;arguments&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 作业的参数。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;archives&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 将在工作目录中解压缩的已归档文件列表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;应存储在云存储中。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;files&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要复制到工作目录的文件列表&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;job_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群中使用的作业名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认情况下，此名称是附加执行数据的task_id，但可以进行模板化。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该名称将始终附加一个随机数，以避免名称冲突。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cluster_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_hadoop_properties&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - Pig属性的映射。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;非常适合放入默认参数&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_hadoop_jars&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 在云存储中配置的jars的URI（例如：用于UDF和lib），非常适合放入默认参数。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 创建数据加载集群的指定区域。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataProcPySparkOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataProcPySparkOperator（main，arguments = None，archives = None，pyfiles = None，files = None，job_name ='{{task.task_id}} _ {{ds_nodash}}'，cluster_name =' cluster-1'，dataproc_pyspark_properties = None，dataproc_pyspark_jars = None，gcp_conn_id ='google_cloud_default'，delegate_to = None，region ='global'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Cloud DataProc群集上启动PySpark作业。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;main&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - [必需]用作驱动程序的主Python文件的Hadoop兼容文件系统（HCFS）URI。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;必须是.py文件。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;arguments&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 作业的参数。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;archives&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 将在工作目录中解压缩的已归档文件列表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;应存储在云存储中。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;files&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要复制到工作目录的文件列表&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;pyfiles&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要传递给PySpark框架的Python文件列表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;支持的文件类型：.py，.egg和.zip&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;job_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群中使用的作业名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认情况下，此名称是附加执行数据的task_id，但可以进行模板化。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;该名称将始终附加一个随机数，以避免名称冲突。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cluster_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - DataProc集群的名称。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_pyspark_properties&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - Pig属性的映射。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;非常适合放入默认参数&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dataproc_pyspark_jars&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 在云存储中配置的jars的URI（例如：用于UDF和lib），非常适合放入默认参数。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 创建数据加载集群的指定区域。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataprocWorkflowTemplateInstantiateOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataprocWorkflowTemplateInstantiateOperator（template_id，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.contrib.operators.dataproc_operator.DataprocWorkflowTemplateBaseOperator`](code.html "airflow.contrib.operators.dataproc_operator.DataprocWorkflowTemplateBaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Google Cloud Dataproc上实例化WorkflowTemplate。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;操作员将等待WorkflowTemplate完成执行。&lt;/font&gt;&lt;/font&gt;

也可以看看

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;请参阅：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;](https://cloud.google.com/dataproc/docs/reference/rest/v1beta2/projects.regions.workflowTemplates/instantiate)&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/dataproc/docs/reference/rest/v1beta2/projects.regions.workflowTemplates/instantiate&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/dataproc/docs/reference/rest/v1beta2/projects.regions.workflowTemplates/instantiate)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;template_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模板的id。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模板运行所在的Google云项目的ID&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 保留为“全局”，将来可能会变得相关&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DataprocWorkflowTemplateInstantiateInlineOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.dataproc_operator.DataprocWorkflowTemplateInstantiateInlineOperator（template，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.contrib.operators.dataproc_operator.DataprocWorkflowTemplateBaseOperator`](code.html "airflow.contrib.operators.dataproc_operator.DataprocWorkflowTemplateBaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Google Cloud Dataproc上实例化WorkflowTemplate内联。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;操作员将等待WorkflowTemplate完成执行。&lt;/font&gt;&lt;/font&gt;

也可以看看

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;请参阅：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;](https://cloud.google.com/dataproc/docs/reference/rest/v1beta2/projects.regions.workflowTemplates/instantiateInline)&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/dataproc/docs/reference/rest/v1beta2/projects.regions.workflowTemplates/instantiateInline&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/dataproc/docs/reference/rest/v1beta2/projects.regions.workflowTemplates/instantiateInline)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;template&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;map&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模板内容。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模板运行所在的Google云项目的ID&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 保留为“全局”，将来可能会变得相关&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;云数据存储区&lt;/font&gt;&lt;/font&gt;

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;数据存储区运营商&lt;/font&gt;&lt;/font&gt;

*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DatastoreExportOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：将实体从Google Cloud Datastore导出到云存储。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DatastoreImportOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：将实体从云存储导入Google Cloud Datastore。&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DatastoreExportOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.datastore_export_operator.DatastoreExportOperator（bucket，namespace = None，datastore_conn_id ='google_cloud_default'，cloud_storage_conn_id ='google_cloud_default'，delegate_to = None，entity_filter = None，labels = None，polling_interval_in_seconds = 10，overwrite_existing = False，xcom_push =假，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将实体从Google Cloud Datastore导出到云存储&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要备份数据的云存储桶的名称&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;namespace&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;str&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 指定云存储桶中用于备份数据的可选命名空间路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果GCS中不存在此命名空间，则将创建该命名空间。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;datastore_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要使用的数据存储区连接ID的名称&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cloud_storage_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 强制写入备份的云存储连接ID的名称&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;entity_filter&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 导出中包含项目中哪些数据的说明，请参阅&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/datastore/docs/reference/rest/Shared.Types/EntityFilter&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/datastore/docs/reference/rest/Shared.Types/EntityFilter)
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;labels&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 客户端分配的云存储标签&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;polling_interval_in_seconds&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 再次轮询执行状态之前等待的秒数&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;overwrite_existing&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bool&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果存储桶+命名空间不为空，则在导出之前将清空它。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;这样可以覆盖现有备份。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;xcom_push&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bool&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 将操作名称推送到xcom以供参考&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DatastoreImportOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.datastore_import_operator.DatastoreImportOperator（bucket，file，namespace = None，entity_filter = None，labels = None，datastore_conn_id ='google_cloud_default'，delegate_to = None，polling_interval_in_seconds = 10，xcom_push = False，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将实体从云存储导入Google Cloud Datastore&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 云存储中用于存储数据的容器&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;file&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 指定云存储桶中备份元数据文件的路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;它应该具有扩展名.overall_export_metadata&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;namespace&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;str&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 指定云存储桶中备份元数据文件的可选命名空间。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;entity_filter&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 导出中包含项目中哪些数据的说明，请参阅&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/datastore/docs/reference/rest/Shared.Types/EntityFilter&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/datastore/docs/reference/rest/Shared.Types/EntityFilter)
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;labels&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 客户端分配的云存储标签&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;datastore_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要使用的连接ID的名称&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;polling_interval_in_seconds&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 再次轮询执行状态之前等待的秒数&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;xcom_push&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bool&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 将操作名称推送到xcom以供参考&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;DatastoreHook&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.hooks.datastore_hook.DatastoreHook（datastore_conn_id ='google_cloud_datastore_default'，delegate_to = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook`](code.html "airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;与Google Cloud Datastore互动。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;此挂钩使用Google Cloud Platform连接。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;此对象不是线程安全的。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果要同时发出多个请求，则需要为每个线程创建一个钩子。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">allocate_ids（partialKeys）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;为不完整的密钥分配ID。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请参阅&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/datastore/docs/reference/rest/v1/projects/allocateIds&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/datastore/docs/reference/rest/v1/projects/allocateIds)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;partialKeys&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 部分键列表&lt;/font&gt;&lt;/font&gt; |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;完整密钥列表。&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">begin_transaction（）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;获取新的事务处理&lt;/font&gt;&lt;/font&gt;

> 也可以看看
> 
> [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/datastore/docs/reference/rest/v1/projects/beginTransaction&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/datastore/docs/reference/rest/v1/projects/beginTransaction)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;交易句柄&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">提交（体）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;提交事务，可选地创建，删除或修改某些实体。&lt;/font&gt;&lt;/font&gt;

也可以看看

[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/datastore/docs/reference/rest/v1/projects/commit&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/datastore/docs/reference/rest/v1/projects/commit)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;body&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 提交请求的主体&lt;/font&gt;&lt;/font&gt; |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;提交请求的响应主体&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">delete_operation（名称）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;删除长时间运行的操作&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 操作资源的名称&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">export_to_storage_bucket（bucket，namespace = None，entity_filter = None，labels = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将实体从Cloud Datastore导出到Cloud Storage进行备份&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">get_conn（版本= 'V1'）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;返回Google云端存储服务对象。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">GET_OPERATION（名称）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;获取长时间运行的最新状态&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 操作资源的名称&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">import_from_storage_bucket（bucket，file，namespace = None，entity_filter = None，labels = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将备份从云存储导入云数据存储&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">lookup（keys，read_consistency = None，transaction = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;按键查找一些实体&lt;/font&gt;&lt;/font&gt;

也可以看看

[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/datastore/docs/reference/rest/v1/projects/lookup&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/datastore/docs/reference/rest/v1/projects/lookup)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;keys&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 要查找的键&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;read_consistency&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 要使用的读取一致性。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认，强或最终。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;不能与事务一起使用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;transaction&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 要使用的事务，如果有的话。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;查找请求的响应主体。&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">poll_operation_until_done（name，polling_interval_in_seconds）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;轮询备份操作状态直到完成&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">回滚（事务）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;回滚交易&lt;/font&gt;&lt;/font&gt;

也可以看看

[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/datastore/docs/reference/rest/v1/projects/rollback&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/datastore/docs/reference/rest/v1/projects/rollback)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;transaction&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 要回滚的事务&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">run_query（体）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;运行实体查询。&lt;/font&gt;&lt;/font&gt;

也可以看看

[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/datastore/docs/reference/rest/v1/projects/runQuery&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/datastore/docs/reference/rest/v1/projects/runQuery)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;body&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 查询请求的主体&lt;/font&gt;&lt;/font&gt; |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;批量查询结果。&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

### 云ML引擎

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;云ML引擎运营商&lt;/font&gt;&lt;/font&gt;

*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;MLEngineBatchPredictionOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：启动Cloud ML Engine批量预测作业。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;MLEngineModelOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：管理Cloud ML Engine模型。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;MLEngineTrainingOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：启动Cloud ML Engine培训工作。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;MLEngineVersionOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：管理Cloud ML Engine模型版本。&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;MLEngineBatchPredictionOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.mlengine_operator.MLEngineBatchPredictionOperator（project_id，job_id，region，data_format，input_paths，output_path，model_name = None，version_name = None，uri = None，max_worker_count = None，runtime_version = None，gcp_conn_id ='google_cloud_default'，delegate_to =无，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;启动Google Cloud ML Engine预测作业。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;注意：对于模型原点，用户应该考虑以下三个选项中的一个：1。仅填充“uri”字段，该字段应该是指向tensorflow savedModel目录的GCS位置。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;2.仅填充'model_name'字段，该字段引用现有模型，并将使用模型的默认版本。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;3.填充“model_name”和“version_name”字段，这些字段指特定模型的特定版本。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在选项2和3中，模型和版本名称都应包含最小标识符。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;例如，打电话&lt;/font&gt;&lt;/font&gt;

```py
 MLEngineBatchPredictionOperator (
    ... ,
    model_name = 'my_model' ,
    version_name = 'my_version' ,
    ... )

```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果所需的型号版本是“projects / my_project / models / my_model / versions / my_version”。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;有关&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;参数的更多文档，&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请参阅&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://cloud.google.com/ml-engine/reference/rest/v1/projects.jobs&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/ml-engine/reference/rest/v1/projects.jobs)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 提交预测作业的Google Cloud项目名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;job_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - Google Cloud ML Engine上预测作业的唯一ID。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;data_format&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 输入数据的格式。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未提供或者不是[“TEXT”，“TF_RECORD”，“TF_RECORD_GZIP”]之一，它将默认为“DATA_FORMAT_UNSPECIFIED”。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;input_paths&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串列表&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 批量预测的输入数据的GCS路径列表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;接受通配符运算符&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;*&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，但仅限于结尾处。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;output_path&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 写入预测结果的GCS路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于运行预测作业的Google Compute Engine区域。（模板化）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;model_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于预测的Google Cloud ML Engine模型。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未提供version_name，则将使用此模型的默认版本。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果提供了version_name，则不应为None。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果提供uri，则应为None。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;version_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于预测的Google Cloud ML Engine模型版本。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果提供uri，则应为None。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;uri&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于预测的已保存模型的GCS路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果提供了model_name，则应为None。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;它应该是指向张量流SavedModel的GCS路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;max_worker_count&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于并行处理的最大worker数。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未指定，则默认为10。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;runtime_version&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于批量预测的Google Cloud ML Engine运行时版本。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于连接到Google Cloud Platform的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用doamin范围的委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
 Raises: 
```

`ValueError`<font style="vertical-align: inherit;"> <font style="vertical-align: inherit;">：如果无法确定唯一的模型/版本来源。</font></font>

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;MLEngineModelOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.mlengine_operator.MLEngineModelOperator（project_id，model，operation ='create'，gcp_conn_id ='google_cloud_default'，delegate_to = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;管理Google Cloud ML Engine模型的运营商。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - MLEngine模型所属的Google Cloud项目名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;型号&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字典&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;包含有关模型信息的字典。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;操作&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;是&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;create&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，则&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;model&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数应包含有关此模型的所有信息，例如&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;name&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;操作&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;是&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;get&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，则&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;model&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数应包含&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;模型&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;的&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;名称&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;操作&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;-&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;执行的操作。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;可用的操作是：&lt;/font&gt;&lt;/font&gt;

    *   `create`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：创建&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;model&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;提供的新模型&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;
    *   `get`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：获取在模型中指定名称的特定&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;模型&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 获取连接信息时使用的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;MLEngineTrainingOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.mlengine_operator.MLEngineTrainingOperator（project_id，job_id，package_uris，training_python_module，training_args，region，scale_tier = None，runtime_version = None，python_version = None，job_dir = None，gcp_conn_id ='google_cloud_default'，delegate_to = None，mode ='生产'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;启动MLEngine培训工作的操作员。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 应在其中运行MLEngine培训作业的Google Cloud项目名称（模板化）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;job_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 提交的Google MLEngine培训作业的唯一模板化ID。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;package_uris&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - MLEngine培训作业的包位置列表，其中应包括主要培训计划+任何其他依赖项。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;training_python_module&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 安装'package_uris'软件包后，在MLEngine培训作业中运行的Python模块名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;training_args&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 传递给MLEngine训练程序的模板化命令行参数列表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;region&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于运行MLEngine培训作业的Google Compute Engine区域（模板化）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;scale_tier&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - MLEngine培训作业的资源层。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;runtime_version&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于培训的Google Cloud ML运行时版本。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;python_version&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 训练中使用的Python版本。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;job_dir&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于存储培训输出和培训所需的其他数据的Google云端存储路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 获取连接信息时使用的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;mode&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 可以是'DRY_RUN'/'CLOUD'之一。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;在“DRY_RUN”模式下，不会启动真正的培训作业，但会打印出MLEngine培训作业请求。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;在“CLOUD”模式下，将发出真正的MLEngine培训作业创建请求。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;MLEngineVersionOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.mlengine_operator.MLEngineVersionOperator（project_id，model_name，version_name = None，version = None，operation ='create'，gcp_conn_id ='google_cloud_default'，delegate_to = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;管理Google Cloud ML Engine版本的运营商。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - MLEngine模型所属的Google Cloud项目名称。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;model_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 版本所属的Google Cloud ML Engine模型的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;version_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于正在操作的版本的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果没有人及&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;版本&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;的说法是没有或不具备的值&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;名称&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;键，那么这将是有效载荷中用于填充&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;名称&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;键。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;version&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 包含版本信息的字典。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;操作&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;是&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;create&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，则&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;version&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;应包含有关此版本的所有信息，例如name和deploymentUrl。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;操作&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;是&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;get&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;或&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delete&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，则&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;version&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数应包含&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;版本&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;的&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;名称&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果是None，则唯一&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;可能&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;的&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;操作&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;是&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;操作&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;执行的操作。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;可用的操作是：&lt;/font&gt;&lt;/font&gt;

    *   `create`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;model_name&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;指定的&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;模型中&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;创建新版本&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;，在这种情况下，&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;version&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数应包含创建该版本的所有信息（例如&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;name&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;deploymentUrl&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;）。&lt;/font&gt;&lt;/font&gt;
    *   `get`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：获取&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;model_name&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;指定的&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;模型中&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;特定版本的完整信息&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;应在&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;version&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数中&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;指定版本的名称&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;
    *   `list`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：列出&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;model_name&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;指定的&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;模型的&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;所有可用版本&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;
    *   `delete`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;从&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;model_name&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;指定的&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;模型中&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;删除&lt;/font&gt;&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;version&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;参数中&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;指定的&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;版本&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;应在&lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;version&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;参数中&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;指定版本的名称&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;gcp_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 获取连接信息时使用的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;Cloud ML Engine Hook&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;MLEngineHook&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.hooks.gcp_mlengine_hook.MLEngineHook（gcp_conn_id ='google_cloud_default'，delegate_to = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook`](code.html "airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook")

```py
<font style="vertical-align: inherit;">create_job（project_id，job，use_existing_job_fn = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;启动MLEngine作业并等待它达到终端状态。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 将在其中启动MLEngine作业的Google Cloud项目ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;工作&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字典&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;应该提供给MLEngine API的MLEngine Job对象，例如：&lt;/font&gt;&lt;/font&gt;

    ```py
     {
      'jobId' : 'my_job_id' ,
      'trainingInput' : {
        'scaleTier' : 'STANDARD_1' ,
        ...
      }
    }

    ```

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;use_existing_job_fn&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;function&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果已存在具有相同job_id的MLEngine作业，则此方法（如果提供）将决定是否应使用此现有作业，继续等待它完成并返回作业对象。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;它应该接受MLEngine作业对象，并返回一个布尔值，指示是否可以重用现有作业。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未提供“use_existing_job_fn”，我们默认重用现有的MLEngine作业。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果作业成功到达终端状态（可能是FAILED或CANCELED状态），则为MLEngine作业对象。&lt;/font&gt;&lt;/font&gt; |
| --- | --- |
| 返回类型： | 字典 |
| --- | --- |

```py
<font style="vertical-align: inherit;">create_model（project_id，model）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;创建一个模型。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;阻止直到完成。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">create_version（project_id，model_name，version_spec）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在Google Cloud ML Engine上创建版本。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果版本创建成功则返回操作，否则引发错误。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">delete_version（project_id，model_name，version_name）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;删除给定版本的模型。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;阻止直到完成。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">get_conn（）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;返回Google MLEngine服务对象。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">get_model（project_id，model_name）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;获取一个模型。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;阻止直到完成。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">list_versions（project_id，model_name）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;列出模型的所有可用版本。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;阻止直到完成。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">set_default_version（project_id，model_name，version_name）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将版本设置为默认值。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;阻止直到完成。&lt;/font&gt;&lt;/font&gt;

### 云储存

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;存储运营商&lt;/font&gt;&lt;/font&gt;

*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;FileToGoogleCloudStorageOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：将文件上传到Google云端存储。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageCreateBucketOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：创建新的云存储桶。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageListOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：列出存储桶中的所有对象，并在名称中添加字符串前缀和分隔符。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageDownloadOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：从Google云端存储中下载文件。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageToBigQueryOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：将Google云存储中的文件加载到BigQuery中。&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageToGoogleCloudStorageOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：将对象从存储桶复制到另一个存储桶，并在需要时重命名。&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;FileToGoogleCloudStorageOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.file_to_gcs.FileToGoogleCloudStorageOperator（src，dst，bucket，google_cloud_storage_conn_id ='google_cloud_default'，mime_type ='application / octet-stream'，delegate_to = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将文件上传到Google云端存储&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;src&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 本地文件的路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dst&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 指定存储桶中的目标路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要上传的存储桶。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google_cloud_storage_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要上传的Airflow连接ID&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;mime_type&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - mime类型字符串&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
<font style="vertical-align: inherit;">执行（上下文）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将文件上传到Google云端存储&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageCreateBucketOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.gcs_operator.GoogleCloudStorageCreateBucketOperator（bucket_name，storage_class ='MULTI_REGIONAL'，location ='US'，project_id = None，labels = None，google_cloud_storage_conn_id ='google_cloud_default'，delegate_to = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;创建一个新存储桶。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;Google云端存储使用平面命名空间，因此您无法创建名称已在使用中的存储桶。&lt;/font&gt;&lt;/font&gt;

> 也可以看看
> 
> &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;有关详细信息，请参阅存储桶命名指南：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;](https://cloud.google.com/storage/docs/bucketnaming.html)&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/storage/docs/bucketnaming.html#requirements&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/storage/docs/bucketnaming.html)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 存储桶的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;storage_class&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;这定义了存储桶中对象的存储方式，并确定了SLA和存储成本（模板化）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;价值包括&lt;/font&gt;&lt;/font&gt;

    *   `MULTI_REGIONAL`
    *   `REGIONAL`
    *   `STANDARD`
    *   `NEARLINE`
    *   `COLDLINE`&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果在创建存储桶时未指定此值，则默认为STANDARD。&lt;/font&gt;&lt;/font&gt;

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;位置&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;水桶的位置。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板化）存储桶中对象的对象数据驻留在此区域内的物理存储中。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认为美国。&lt;/font&gt;&lt;/font&gt;

    也可以看看

    [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://developers.google.com/storage/docs/bucket-locations&lt;/font&gt;&lt;/font&gt;](https://developers.google.com/storage/docs/bucket-locations)

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - GCP项目的ID。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;labels&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用户提供的键/值对标签。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google_cloud_storage_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 连接到Google云端存储时使用的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
 Example: 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;以下运算符将&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;在&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;区域中&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;创建&lt;/font&gt;&lt;/font&gt;`test-bucket`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;具有&lt;/font&gt;&lt;/font&gt;`MULTI_REGIONAL`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;存储类&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;的新存储桶&lt;/font&gt;&lt;/font&gt;`EU`

```py
 CreateBucket = GoogleCloudStorageCreateBucketOperator (
    task_id = 'CreateNewBucket' ,
    bucket_name = 'test-bucket' ,
    storage_class = 'MULTI_REGIONAL' ,
    location = 'EU' ,
    labels = { 'env' : 'dev' , 'team' : 'airflow' },
    google_cloud_storage_conn_id = 'airflow-service-account'
)

```

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageDownloadOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.gcs_download_operator.GoogleCloudStorageDownloadOperator（bucket，object，filename = None，store_to_xcom_key = None，google_cloud_storage_conn_id ='google_cloud_default'，delegate_to = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;从Google云端存储下载文件。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对象所在的Google云存储桶。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要在Google云存储桶中下载的对象的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;filename&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 应将文件下载到的本地文件系统（正在执行操作符的位置）上的文件路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板化）如果未传递文件名，则下载的数据将不会存储在本地文件系统中。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;store_to_xcom_key&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果设置了此参数，操作员将使用此参数中设置的键将下载文件的内容推送到XCom。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未设置，则下载的数据不会被推送到XCom。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google_cloud_storage_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 连接到Google云端存储时使用的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageListOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.gcs_list_operator.GoogleCloudStorageListOperator（bucket，prefix = None，delimiter = None，google_cloud_storage_conn_id ='google_cloud_default'，delegate_to = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;使用名称中的给定字符串前缀和分隔符列出存储桶中的所有对象。&lt;/font&gt;&lt;/font&gt;

```py
 <font style="vertical-align: inherit;">此运算符返回一个python列表，其中包含可供其使用的对象的名称</font> 
```

<cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xcom</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在下游任务中。</font></font>

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于查找对象的Google云存储桶。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;prefix&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 前缀字符串，用于过滤名称以此前缀开头的对象。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delimiter&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要过滤对象的分隔符。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板化）例如，要列出GCS目录中的CSV文件，您可以使用delimiter ='。csv'。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google_cloud_storage_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 连接到Google云端存储时使用的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
 Example: 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;以下运算符将列出&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;存储桶中&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;文件&lt;/font&gt;&lt;/font&gt;`sales/sales-2017`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;夹中的&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;所有Avro文件&lt;/font&gt;&lt;/font&gt;`data`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

```py
 GCS_Files = GoogleCloudStorageListOperator (
    task_id = 'GCS_Files' ,
    bucket = 'data' ,
    prefix = 'sales/sales-2017/' ,
    delimiter = '.avro' ,
    google_cloud_storage_conn_id = google_cloud_conn_id
)

```

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageToBigQueryOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.gcs_to_bq.GoogleCloudStorageToBigQueryOperator（bucket，source_objects，destination_project_dataset_table，schema_fields = None，schema_object = None，source_format ='CSV'，compression ='NONE'，create_disposition ='CREATE_IF_NEEDED'，skip_leading_rows = 0，write_disposition =' WRITE_EMPTY'，field_delimiter ='，'，max_bad_records = 0，quote_character = None，ignore_unknown_values = False，allow_quoted_newlines = False，allow_jagged_rows = False，max_id_key = None，bigquery_conn_id ='bigquery_default'，google_cloud_storage_conn_id ='google_cloud_default'，delegate_to = None，schema_update_options =（），src_fmt_configs = {}，external_table = False，time_partitioning = {}，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将文件从Google云存储加载到BigQuery中。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;可以用两种方法之一指定用于BigQuery表的模式。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;您可以直接传递架构字段，也可以将运营商指向Google云存储对象名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;Google云存储中的对象必须是包含架构字段的JSON文件。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要加载的桶。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_objects&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 要加载的Google云存储URI列表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板化）如果source_format是'DATASTORE_BACKUP'，则列表必须只包含一个URI。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_project_dataset_table&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于加载数据的虚线（&lt;project&gt;。）&lt;dataset&gt;。&lt;table&gt; BigQuery表。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果未包含&lt;project&gt;，则项目将是连接json中定义的项目。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema_fields&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果设置，则此处定义的架构字段列表：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/bigquery/docs/reference/v2/jobs)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/bigquery/docs/reference/v2/jobs#configuration.load&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;当source_format为'DATASTORE_BACKUP'时，不应设置。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 如果设置，则指向包含表的架构的.json文件的GCS对象路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 字符串&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_format&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要导出的文件格式。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;compression&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - [可选]数据源的压缩类型。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;可能的值包括GZIP和NONE。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认值为NONE。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;Google Cloud Bigtable，Google Cloud Datastore备份和Avro格式会忽略此设置。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;create_disposition&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果表不存在，则创建处置。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;skip_leading_rows&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 从CSV加载时要跳过的行数。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;write_disposition&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 表已存在时的写处置。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;field_delimiter&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 从CSV加载时使用的分隔符。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;max_bad_records&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;int&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - BigQuery在运行作业时可以忽略的最大错误记录数。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;quote_character&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于引用CSV文件中数据部分的值。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;ignore_unknown_values&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bool&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - [可选]指示BigQuery是否应允许表模式中未表示的额外值。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果为true，则忽略额外值。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果为false，则将具有额外列的记录视为错误记录，如果错误记录太多，则在作业结果中返回无效错误。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;allow_quoted_newlines&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;boolean&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 是否允许引用的换行符（true）或不允许（false）。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;allow_jagged_rows&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bool&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 接受缺少尾随可选列的行。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;缺失值被视为空值。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果为false，则缺少尾随列的记录将被视为错误记录，如果错误记录太多，则会在作业结果中返回无效错误。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;仅适用于CSV，忽略其他格式。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;max_id_key&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果设置，则是BigQuery表中要加载的列的名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;在加载发生后，Thsi将用于从BigQuery中选择MAX值。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;结果将由execute（）命令返回，该命令又存储在XCom中供将来的操作员使用。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;这对增量加载很有帮助 - 在将来的执行过程中，您可以从最大ID中获取。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bigquery_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定BigQuery挂钩的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google_cloud_storage_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对特定Google云存储挂钩的引用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;schema_update_options&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;list&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 允许更新目标表的模式作为加载作业的副作用。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;src_fmt_configs&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 配置特定于源格式的可选字段&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;external_table&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bool&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于指定目标表是否应为BigQuery外部表的标志。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认值为False。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;time_partitioning&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 配置可选的时间分区字段，即按API规范按字段，类型和到期分区。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请注意，“field”在dataset.table $ partition的并发中不可用。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageToGoogleCloudStorageOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.gcs_to_gcs.GoogleCloudStorageToGoogleCloudStorageOperator（source_bucket，source_object，destination_bucket = None，destination_object = None，move_object = False，google_cloud_storage_conn_id ='google_cloud_default'，delegate_to = None，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将对象从存储桶复制到另一个存储桶，并在需要时重命名。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对象所在的源Google云存储桶。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板）&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;要在Google云存储分区中复制的对象的源名称。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板化）如果在此参数中使用通配符：&lt;/font&gt;&lt;/font&gt;

    &gt; &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;您只能在存储桶中使用一个通配符作为对象（文件名）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;通配符可以出现在对象名称内或对象名称的末尾。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;不支持在存储桶名称中附加通配符。&lt;/font&gt;&lt;/font&gt;

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 目标Google云端存储分区&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;对象应该在哪里。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板化）：type destination_bucket：string：param destination_object：对象的目标名称&lt;/font&gt;&lt;/font&gt;

> &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;目标Google云存储桶。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（模板化）如果在source_object参数中提供了通配符，则这是将添加到最终目标对象路径的前缀。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请注意，将删除通配符之前的源路径部分;&lt;/font&gt; &lt;font style="vertical-align: inherit;"&gt;如果需要保留，则应将其附加到destination_object。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;例如，使用prefix&lt;/font&gt; &lt;/font&gt;`foo/*`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;和destination_object'blah&lt;/font&gt; &lt;/font&gt;&lt;cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;/`&lt;/font&gt;&lt;/font&gt;&lt;/cite&gt;&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，文件&lt;/font&gt;&lt;/font&gt;`foo/baz`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将被复制到&lt;/font&gt;&lt;/font&gt;`blah/baz`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;;&lt;/font&gt; &lt;font style="vertical-align: inherit;"&gt;保留前缀写入destination_object，例如&lt;/font&gt;&lt;/font&gt;`blah/foo`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，在这种情况下，复制的文件将被命名&lt;/font&gt;&lt;/font&gt;`blah/foo/baz`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;move_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 当移动对象为True时，移动对象&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
 <font style="vertical-align: inherit;">复制到新位置。</font> 
```

<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这相当于mv命令而不是cp命令。</font></font>

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google_cloud_storage_conn_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 连接到Google云端存储时使用的连接ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delegate_to&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 模拟的帐户（如果有）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;为此，发出请求的服务帐户必须启用域范围委派。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
 Examples: 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;下面的操作将命名一个文件复制&lt;/font&gt;&lt;/font&gt;`sales/sales-2017/january.avro`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;在&lt;/font&gt;&lt;/font&gt;`data`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;桶的文件和名为&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;斗&lt;/font&gt;&lt;/font&gt;`copied_sales/2017/january-backup.avro` in the ``data_backup`

```py
 copy_single_file = GoogleCloudStorageToGoogleCloudStorageOperator (
    task_id = 'copy_single_file' ,
    source_bucket = 'data' ,
    source_object = 'sales/sales-2017/january.avro' ,
    destination_bucket = 'data_backup' ,
    destination_object = 'copied_sales/2017/january-backup.avro' ,
    google_cloud_storage_conn_id = google_cloud_conn_id
)

```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;以下运算符会将文件&lt;/font&gt;&lt;/font&gt;`sales/sales-2017`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;夹中的&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;所有Avro文件&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（即名称以该前缀开头）&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;复制到&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;存储&lt;/font&gt;&lt;/font&gt;`data`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;桶中的&lt;/font&gt;&lt;/font&gt;`copied_sales/2017`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;文件夹中&lt;/font&gt;&lt;/font&gt;`data_backup`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

```py
 copy_files = GoogleCloudStorageToGoogleCloudStorageOperator (
    task_id = 'copy_files' ,
    source_bucket = 'data' ,
    source_object = 'sales/sales-2017/*.avro' ,
    destination_bucket = 'data_backup' ,
    destination_object = 'copied_sales/2017/' ,
    google_cloud_storage_conn_id = google_cloud_conn_id
)

```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;以下运算符会将文件&lt;/font&gt;&lt;/font&gt;`sales/sales-2017`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;夹中的&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;所有Avro文件&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;（即名称以该前缀开头）移动到&lt;/font&gt;&lt;/font&gt;`data`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;存储桶中的同一文件夹&lt;/font&gt;&lt;/font&gt;`data_backup`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;，删除过程中的原始文件。&lt;/font&gt;&lt;/font&gt;

```py
 move_files = GoogleCloudStorageToGoogleCloudStorageOperator (
    task_id = 'move_files' ,
    source_bucket = 'data' ,
    source_object = 'sales/sales-2017/*.avro' ,
    destination_bucket = 'data_backup' ,
    move_object = True ,
    google_cloud_storage_conn_id = google_cloud_conn_id
)

```

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GoogleCloudStorageHook&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook（google_cloud_storage_conn_id ='google_cloud_default'，delegate_to = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook`](code.html "airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook")

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;与Google云端存储互动。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;此挂钩使用Google Cloud Platform连接。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">copy（source_bucket，source_object，destination_bucket = None，destination_object = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将对象从存储桶复制到另一个存储桶，并在需要时重命名。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_bucket或destination_object可以省略，在这种情况下使用源桶/对象，但不能同时使用两者。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要从中复制的对象的存储桶。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要复制的对象。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要复制到的对象的目标。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;可以省略;&lt;/font&gt; &lt;font style="vertical-align: inherit;"&gt;然后使用相同的桶。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 给定对象的（重命名）路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;可以省略;&lt;/font&gt; &lt;font style="vertical-align: inherit;"&gt;然后使用相同的名称。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
<font style="vertical-align: inherit;">create_bucket（bucket_name，storage_class ='MULTI_REGIONAL'，location ='US'，project_id = None，labels = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;创建一个新存储桶。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;Google云端存储使用平面命名空间，因此您无法创建名称已在使用中的存储桶。&lt;/font&gt;&lt;/font&gt;

也可以看看

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;有关详细信息，请参阅存储桶命名指南：&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;https&lt;/font&gt;](https://cloud.google.com/storage/docs/bucketnaming.html)&lt;font style="vertical-align: inherit;"&gt;：&lt;/font&gt;&lt;/font&gt;[&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;//cloud.google.com/storage/docs/bucketnaming.html#requirements&lt;/font&gt;&lt;/font&gt;](https://cloud.google.com/storage/docs/bucketnaming.html)

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket_name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 存储桶的名称。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;storage_class&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;这定义了存储桶中对象的存储方式，并确定了SLA和存储成本。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;价值包括&lt;/font&gt;&lt;/font&gt;

    *   `MULTI_REGIONAL`
    *   `REGIONAL`
    *   `STANDARD`
    *   `NEARLINE`
    *   `COLDLINE`&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;。&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果在创建存储桶时未指定此值，则默认为STANDARD。&lt;/font&gt;&lt;/font&gt;

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;位置&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） -&lt;/font&gt;&lt;/font&gt;

    &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;水桶的位置。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;存储桶中对象的对象数据驻留在此区域内的物理存储中。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;默认为美国。&lt;/font&gt;&lt;/font&gt;

    也可以看看

    [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;https://developers.google.com/storage/docs/bucket-locations&lt;/font&gt;&lt;/font&gt;](https://developers.google.com/storage/docs/bucket-locations)

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;project_id&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - GCP项目的ID。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;labels&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用户提供的键/值对标签。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果成功，则返回&lt;/font&gt;&lt;/font&gt;`id`&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;桶的内容。&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">删除（桶，对象，生成=无）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果未对存储桶启用版本控制，或者使用了生成参数，则删除对象。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对象所在的存储桶的名称&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要删除的对象的名称&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;generation&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果存在，则永久删除该代的对象&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果成功则为真&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">下载（bucket，object，filename = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;从Google云端存储中获取文件。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要获取的存储桶。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要获取的对象。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;filename&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果设置，则应写入文件的本地文件路径。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
<font style="vertical-align: inherit;">存在（桶，对象）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;检查Google云端存储中是否存在文件。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对象所在的Google云存储桶。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要在Google云存储分区中检查的对象的名称。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
<font style="vertical-align: inherit;">get_conn（）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;返回Google云端存储服务对象。&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">get_crc32c（bucket，object）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;获取Google Cloud Storage中对象的CRC32c校验和。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对象所在的Google云存储桶。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要在Google云存储分区中检查的对象的名称。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
<font style="vertical-align: inherit;">get_md5hash（bucket，object）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;获取Google云端存储中对象的MD5哈希值。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对象所在的Google云存储桶。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要在Google云存储分区中检查的对象的名称。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
<font style="vertical-align: inherit;">get_size（bucket，object）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;获取Google云端存储中文件的大小。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对象所在的Google云存储桶。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要在Google云存储分区中检查的对象的名称。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
<font style="vertical-align: inherit;">is_updated_after（bucket，object，ts）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;检查Google Cloud Storage中是否更新了对象。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 对象所在的Google云存储桶。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要在Google云存储分区中检查的对象的名称。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;ts&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;datetime&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要检查的时间戳。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
<font style="vertical-align: inherit;">list（bucket，versions = None，maxResults = None，prefix = None，delimiter = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;使用名称中的给定字符串前缀列出存储桶中的所有对象&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 存储桶名称&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;versions&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;boolean&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 如果为true，则列出对象的所有版本&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;maxResults&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;整数&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 在单个响应页面中返回的最大项目数&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;prefix&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 前缀字符串，用于过滤名称以此前缀开头的对象&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;delimiter&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 根据分隔符过滤对象（例如'.csv'）&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;与过滤条件匹配的对象名称流&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">重写（source_bucket，source_object，destination_bucket，destination_object = None）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;具有与复制相同的功能，除了可以处理超过5 TB的文件，以及在位置和/或存储类之间复制时。&lt;/font&gt;&lt;/font&gt;

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_object可以省略，在这种情况下使用source_object。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要从中复制的对象的存储桶。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;source_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要复制的对象。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要复制到的对象的目标。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;destination_object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt; &lt;font style="vertical-align: inherit;"&gt;- 给定对象的（重命名）路径。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;可以省略;&lt;/font&gt; &lt;font style="vertical-align: inherit;"&gt;然后使用相同的名称。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

```py
<font style="vertical-align: inherit;">upload（bucket，object，filename，mime_type ='application / octet-stream'）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;将本地文件上传到Google云端存储。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;bucket&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要上传的存储桶。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;object&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 上载本地文件时要设置的对象名称。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;filename&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;字符串&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要上载的文件的本地文件路径。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;mime_type&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;string&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 上载文件时要设置的MIME类型。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |

### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;谷歌Kubernetes引擎&lt;/font&gt;&lt;/font&gt;

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;Google Kubernetes引擎集群运营商&lt;/font&gt;&lt;/font&gt;

*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GKEClusterDeleteOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：在Google Cloud Platform中创建Kubernetes群集&lt;/font&gt;&lt;/font&gt;
*   [&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GKEPodOperator&lt;/font&gt;&lt;/font&gt;](28)&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;：删除Google Cloud Platform中的Kubernetes群集&lt;/font&gt;&lt;/font&gt;

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GKEClusterCreateOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.gcp_container_operator.GKEClusterCreateOperator（project_id，location，body = {}，gcp_conn_id ='google_cloud_default'，api_version ='v2'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GKEClusterDeleteOperator&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.operators.gcp_container_operator.GKEClusterDeleteOperator（project_id，name，location，gcp_conn_id ='google_cloud_default'，api_version ='v2'，* args，** kwargs）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;[`airflow.models.BaseOperator`](code.html "airflow.models.BaseOperator")

##### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;GKEPodOperator&lt;/font&gt;&lt;/font&gt;

#### &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;Google Kubernetes Engine Hook&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">class airflow.contrib.hooks.gcp_container_hook.GKEClusterHook（project_id，location）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;基地：&lt;/font&gt; &lt;/font&gt;`airflow.hooks.base_hook.BaseHook`

```py
<font style="vertical-align: inherit;">create_cluster（cluster，retry = <object object>，timeout = <object object>）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;创建一个群集，由指定数量和类型的Google Compute Engine实例组成。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;cluster&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;dict&lt;/font&gt; &lt;/font&gt;__&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;或&lt;/font&gt;&lt;/font&gt;_ _&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google.cloud.container_v1.types.Cluster&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 群集protobuf或dict。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果提供了dict，它必须与protobuf消息的格式相同google.cloud.container_v1.types.Cluster&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;重试&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google.api_core.retry.Retry&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 用于重试请求的重试对象（google.api_core.retry.Retry）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果指定None，则不会重试请求。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;timeout&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;float&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 等待请求完成的时间（以秒为单位）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请注意，如果指定了重试，则超时适用于每次单独尝试。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;新集群或现有集群的完整URL&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
 <font style="vertical-align: inherit;">：加薪</font> 
```

<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ParseError：在尝试转换dict时出现JSON解析问题AirflowException：cluster不是dict类型也不是Cluster proto类型</font></font>

```py
<font style="vertical-align: inherit;">delete_cluster（name，retry = <object object>，timeout = <object object>）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;删除集群，包括Kubernetes端点和所有工作节点。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;在群集创建期间配置的防火墙和路由也将被删除。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;群集可能正在使用的其他Google Compute Engine资源（例如，负载均衡器资源）如果在初始创建时不存在，则不会被删除。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | 

*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;name&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;str&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 要删除的集群的名称&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;重试&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;google.api_core.retry.Retry&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 重&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;试用&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;于确定何时/是否重试请求的对象。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果指定None，则不会重试请求。&lt;/font&gt;&lt;/font&gt;
*   **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;timeout&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;float&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 等待请求完成的时间（以秒为单位）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请注意，如果指定了重试，则超时适用于每次单独尝试。&lt;/font&gt;&lt;/font&gt;

 |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;如果成功则删除操作的完整URL，否则为None&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">get_cluster（name，retry = <object object>，timeout = <object object>）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;获取指定集群的详细信息：param name：要检索的集群的名称：type name：str：param retry：用于重试请求的重试对象。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;如果指定了None，&lt;/font&gt;&lt;/font&gt;

> &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;请求不会被重试。&lt;/font&gt;&lt;/font&gt;

<colgroup><col class="field-name"><col class="field-body"></colgroup>
| 参数： | **&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;timeout&lt;/font&gt;&lt;/font&gt;**&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;（&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;float&lt;/font&gt;&lt;/font&gt;_&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;） - 等待请求完成的时间（以秒为单位）。&lt;/font&gt;&lt;font style="vertical-align: inherit;"&gt;请注意，如果指定了重试，则超时适用于每次单独尝试。&lt;/font&gt;&lt;/font&gt; |
| --- | --- |
| 返回： | &lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;一个google.cloud.container_v1.types.Cluster实例&lt;/font&gt;&lt;/font&gt; |
| --- | --- |

```py
<font style="vertical-align: inherit;">GET_OPERATION（OPERATION_NAME）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;从Google Cloud获取操作：param operation_name：要获取的操作的名称：type operation_name：str：return：来自Google Cloud的新的更新操作&lt;/font&gt;&lt;/font&gt;

```py
<font style="vertical-align: inherit;">wait_for_operation（操作）</font> 
```

&lt;font style="vertical-align: inherit;"&gt;&lt;font style="vertical-align: inherit;"&gt;给定操作，持续从Google Cloud获取状态，直到完成或发生错误：param操作：等待的操作：键入操作：google.cloud.container_V1.gapic.enums.Operator：return：a new，updated从Google Cloud获取的操作&lt;/font&gt;&lt;/font&gt;

![Google 翻译](https://www.gstatic.com/images/branding/product/1x/translate_24dp.png)

# 原文

提供更好的翻译建议

* * *